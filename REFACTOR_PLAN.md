# í† ë¡  ì±„íŒ… UI ë¦¬íŒ©í„°ë§ í”Œëœ

## ğŸ¯ ëª©í‘œ
- ê¸°ì¡´ ì½”ë“œ ìœ ì§€í•˜ë©´ì„œ ì ì§„ì  ê°œì„ 
- ì»´í¬ë„ŒíŠ¸ ì±…ì„ ë¶„ë¦¬ ë° ì¬ì‚¬ìš©ì„± í–¥ìƒ
- íƒ€ì… ì•ˆì •ì„± ë° í…ŒìŠ¤íŠ¸ ìš©ì´ì„± í™•ë³´

## ğŸ“ ìƒˆë¡œìš´ ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ chat/
â”‚   â”‚   â”œâ”€â”€ DebateChatUI.tsx                    # ê¸°ì¡´ íŒŒì¼ (ìœ ì§€)
â”‚   â”‚   â”œâ”€â”€ CircularChatUI.tsx                  # ê¸°ì¡´ íŒŒì¼ (ìœ ì§€)
â”‚   â”‚   â””â”€â”€ v2/                                 # ìƒˆë¡œìš´ êµ¬ì¡°
â”‚   â”‚       â”œâ”€â”€ DebateChatContainer.tsx         # ìµœìƒìœ„ ì»¨í…Œì´ë„ˆ
â”‚   â”‚       â”œâ”€â”€ components/                     # UI ì»´í¬ë„ŒíŠ¸
â”‚   â”‚       â”‚   â”œâ”€â”€ ParticipantGrid.tsx         # ì°¸ê°€ì í‘œì‹œ ì˜ì—­
â”‚   â”‚       â”‚   â”œâ”€â”€ MessageList.tsx             # ë©”ì‹œì§€ ëª©ë¡
â”‚   â”‚       â”‚   â”œâ”€â”€ MessageInput.tsx            # ì…ë ¥ ì˜ì—­
â”‚   â”‚       â”‚   â”œâ”€â”€ TurnIndicator.tsx           # ë°œì–¸ ì°¨ë¡€ í‘œì‹œ
â”‚   â”‚       â”‚   â”œâ”€â”€ ControlPanel.tsx            # Next ë²„íŠ¼ ë“± ì»¨íŠ¸ë¡¤
â”‚   â”‚       â”‚   â””â”€â”€ ParticipantCard.tsx         # ê°œë³„ ì°¸ê°€ì ì¹´ë“œ
â”‚   â”‚       â”œâ”€â”€ hooks/                          # ì»¤ìŠ¤í…€ í›…
â”‚   â”‚       â”‚   â”œâ”€â”€ useDebateState.ts           # í† ë¡  ìƒíƒœ ê´€ë¦¬
â”‚   â”‚       â”‚   â”œâ”€â”€ useSocketConnection.ts      # ì†Œì¼“ ì—°ê²° ê´€ë¦¬
â”‚   â”‚       â”‚   â”œâ”€â”€ useMessageHandling.ts       # ë©”ì‹œì§€ ì²˜ë¦¬
â”‚   â”‚       â”‚   â”œâ”€â”€ useTurnManagement.ts        # ë°œì–¸ ìˆœì„œ ê´€ë¦¬
â”‚   â”‚       â”‚   â””â”€â”€ useDebateControls.ts        # í† ë¡  ì œì–´ (pause/resume)
â”‚   â”‚       â”œâ”€â”€ types/                          # íƒ€ì… ì •ì˜
â”‚   â”‚       â”‚   â”œâ”€â”€ debate.types.ts             # í† ë¡  ê´€ë ¨ íƒ€ì…
â”‚   â”‚       â”‚   â”œâ”€â”€ message.types.ts            # ë©”ì‹œì§€ ê´€ë ¨ íƒ€ì…
â”‚   â”‚       â”‚   â””â”€â”€ participant.types.ts        # ì°¸ê°€ì ê´€ë ¨ íƒ€ì…
â”‚   â”‚       â””â”€â”€ utils/                          # ìœ í‹¸ë¦¬í‹°
â”‚   â”‚           â”œâ”€â”€ debateHelpers.ts            # í† ë¡  ê´€ë ¨ í—¬í¼
â”‚   â”‚           â”œâ”€â”€ messageFormatters.ts        # ë©”ì‹œì§€ í¬ë§·íŒ…
â”‚   â”‚           â””â”€â”€ participantUtils.ts         # ì°¸ê°€ì ìœ í‹¸ë¦¬í‹°
â”‚   â””â”€â”€ ui/                                     # ê³µí†µ UI ì»´í¬ë„ŒíŠ¸
â”‚       â”œâ”€â”€ Avatar.tsx
â”‚       â”œâ”€â”€ Button.tsx
â”‚       â”œâ”€â”€ Badge.tsx
â”‚       â””â”€â”€ LoadingSpinner.tsx
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ chat/
â”‚   â”‚   â”œâ”€â”€ page.tsx                            # ê¸°ì¡´ íŒŒì¼ (ìœ ì§€)
â”‚   â”‚   â””â”€â”€ v2/                                 # ìƒˆë¡œìš´ êµ¬ì¡°
â”‚   â”‚       â”œâ”€â”€ page.tsx                        # ìƒˆë¡œìš´ í˜ì´ì§€
â”‚   â”‚       â”œâ”€â”€ components/                     # í˜ì´ì§€ ì „ìš© ì»´í¬ë„ŒíŠ¸
â”‚   â”‚       â”‚   â”œâ”€â”€ ChatPageContainer.tsx       # í˜ì´ì§€ ì»¨í…Œì´ë„ˆ
â”‚   â”‚       â”‚   â””â”€â”€ ChatTypeSelector.tsx        # ì±„íŒ… íƒ€ì… ì„ íƒ
â”‚   â”‚       â””â”€â”€ hooks/                          # í˜ì´ì§€ ì „ìš© í›…
â”‚   â”‚           â”œâ”€â”€ useChatPage.ts              # í˜ì´ì§€ ìƒíƒœ ê´€ë¦¬
â”‚   â”‚           â””â”€â”€ useChatDataLoader.ts        # ë°ì´í„° ë¡œë”©
â”‚   â””â”€â”€ api/
â”‚       â””â”€â”€ socket/                             # Socket.IO API ë¼ìš°íŠ¸ ì •ë¦¬
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ socket/
â”‚   â”‚   â”œâ”€â”€ socketClient.ts                     # ê¸°ì¡´ íŒŒì¼ (ìœ ì§€)
â”‚   â”‚   â””â”€â”€ v2/                                 # ìƒˆë¡œìš´ êµ¬ì¡°
â”‚   â”‚       â”œâ”€â”€ SocketManager.ts                # ì†Œì¼“ ì—°ê²° ê´€ë¦¬ì
â”‚   â”‚       â”œâ”€â”€ EventEmitter.ts                 # ì´ë²¤íŠ¸ ì—ë¯¸í„°
â”‚   â”‚       â””â”€â”€ types.ts                        # ì†Œì¼“ ì´ë²¤íŠ¸ íƒ€ì…
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ chatService.ts                      # ê¸°ì¡´ íŒŒì¼ (ê°œì„ )
â”‚   â”‚   â”œâ”€â”€ debateService.ts                    # í† ë¡  ì „ìš© ì„œë¹„ìŠ¤
â”‚   â”‚   â””â”€â”€ realtimeService.ts                  # ì‹¤ì‹œê°„ í†µì‹  ì„œë¹„ìŠ¤
â”‚   â””â”€â”€ types/
â”‚       â”œâ”€â”€ chat.types.ts                       # ì±„íŒ… ê³µí†µ íƒ€ì…
â”‚       â”œâ”€â”€ api.types.ts                        # API ì‘ë‹µ íƒ€ì…
â”‚       â””â”€â”€ socket.types.ts                     # ì†Œì¼“ ì´ë²¤íŠ¸ íƒ€ì…
â””â”€â”€ styles/
    â””â”€â”€ components/
        â””â”€â”€ debate-chat.css                     # ì»´í¬ë„ŒíŠ¸ë³„ ìŠ¤íƒ€ì¼ ë¶„ë¦¬
```

## ğŸš€ ë§ˆì´ê·¸ë ˆì´ì…˜ ì „ëµ

### Phase 1: íƒ€ì… ì •ì˜ ë° ì„œë¹„ìŠ¤ ë¶„ë¦¬
1. íƒ€ì… ì •ì˜ ì¶”ì¶œ ë° ì •ë¦¬
2. ì„œë¹„ìŠ¤ ë ˆì´ì–´ ë¶„ë¦¬ (API í˜¸ì¶œ, ì†Œì¼“ í†µì‹ )
3. ì»¤ìŠ¤í…€ í›… ìƒì„± (ìƒíƒœ ê´€ë¦¬ ë¡œì§ ë¶„ë¦¬)

### Phase 2: ì»´í¬ë„ŒíŠ¸ ë¶„í•´
1. UI ì»´í¬ë„ŒíŠ¸ ë‹¨ìœ„ë¡œ ë¶„í• 
2. ê° ì»´í¬ë„ŒíŠ¸ë³„ Props ì¸í„°í˜ì´ìŠ¤ ì •ì˜
3. Storybook ì¶”ê°€í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ë³„ ë…ë¦½ ê°œë°œ

### Phase 3: ìƒˆë¡œìš´ í˜ì´ì§€ êµ¬í˜„
1. v2 ë””ë ‰í† ë¦¬ì— ìƒˆë¡œìš´ êµ¬ì¡°ë¡œ êµ¬í˜„
2. Feature Flagë¡œ ê¸°ì¡´/ì‹ ê·œ ë²„ì „ ì„ íƒ ê°€ëŠ¥
3. A/B í…ŒìŠ¤íŠ¸ë¥¼ í†µí•œ ì ì§„ì  ì „í™˜

### Phase 4: ê¸°ì¡´ ì½”ë“œ êµì²´
1. ì¶©ë¶„í•œ í…ŒìŠ¤íŠ¸ í›„ ê¸°ì¡´ íŒŒì¼ì„ ìƒˆë¡œìš´ êµ¬ì¡°ë¡œ êµì²´
2. ê¸°ì¡´ íŒŒì¼ì„ deprecated ë””ë ‰í† ë¦¬ë¡œ ì´ë™
3. ë¬¸ì„œí™” ë° íŒ€ êµìœ¡

## ğŸ“‹ ìƒì„¸ ë¶„í•  ê³„íš

### 1. DebateChatUI.tsx ë¶„í• 
- **ParticipantGrid**: ì°¸ê°€ì í”„ë¡œí•„ í‘œì‹œ (300 ë¼ì¸ â†’ 80 ë¼ì¸)
- **MessageList**: ë©”ì‹œì§€ ë Œë”ë§ (400 ë¼ì¸ â†’ 120 ë¼ì¸)
- **MessageInput**: ì…ë ¥ UI ë° ê²€ì¦ (200 ë¼ì¸ â†’ 60 ë¼ì¸)
- **TurnIndicator**: ë°œì–¸ ì°¨ë¡€ í‘œì‹œ (100 ë¼ì¸ â†’ 40 ë¼ì¸)
- **ControlPanel**: ë²„íŠ¼ ë° ì»¨íŠ¸ë¡¤ (150 ë¼ì¸ â†’ 50 ë¼ì¸)

### 2. page.tsx ë¶„í• 
- **ChatPageContainer**: ë¼ìš°íŒ… ë° ì „ì²´ ìƒíƒœ (200 ë¼ì¸)
- **useChatDataLoader**: ë°ì´í„° ë¡œë”© ë¡œì§ (150 ë¼ì¸)
- **useSocketIntegration**: WebSocket í†µí•© ê´€ë¦¬ (200 ë¼ì¸)
- **ChatTypeSelector**: ì±„íŒ… íƒ€ì…ë³„ ì»´í¬ë„ŒíŠ¸ ì„ íƒ (100 ë¼ì¸)

## ğŸ› ï¸ ê°œë°œ ë„êµ¬ ë° ê·œì¹™

### TypeScript ê·œì¹™
- ëª¨ë“  PropsëŠ” interfaceë¡œ ì •ì˜
- ìœ ë‹ˆì˜¨ íƒ€ì… ëŒ€ì‹  enum ì‚¬ìš©
- Generic íƒ€ì… ì ê·¹ í™œìš©

### ì»´í¬ë„ŒíŠ¸ ê·œì¹™
- ë‹¨ì¼ ì±…ì„ ì›ì¹™ (SRP) ì¤€ìˆ˜
- PropsëŠ” 5ê°œ ì´í•˜ë¡œ ì œí•œ
- ì»´í¬ë„ŒíŠ¸ë‹¹ 100ë¼ì¸ ì´í•˜ ëª©í‘œ

### í›… ê·œì¹™
- í•˜ë‚˜ì˜ í›…ì€ í•˜ë‚˜ì˜ ê´€ì‹¬ì‚¬ë§Œ ì²˜ë¦¬
- ìƒíƒœì™€ ì•¡ì…˜ ë¶„ë¦¬
- ì˜ì¡´ì„± ë°°ì—´ ìµœì í™”

## ğŸ§ª í…ŒìŠ¤íŠ¸ ì „ëµ

### ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
- ê° ì»´í¬ë„ŒíŠ¸ë³„ Jest + RTL
- ì»¤ìŠ¤í…€ í›… í…ŒìŠ¤íŠ¸
- ì„œë¹„ìŠ¤ ë ˆì´ì–´ í…ŒìŠ¤íŠ¸

### í†µí•© í…ŒìŠ¤íŠ¸
- í˜ì´ì§€ ë ˆë²¨ E2E í…ŒìŠ¤íŠ¸
- ì†Œì¼“ ì´ë²¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸
- API í†µí•© í…ŒìŠ¤íŠ¸

## ğŸ“ˆ ì„±ëŠ¥ ìµœì í™”

### ë Œë”ë§ ìµœì í™”
- React.memo ì ìš©
- useMemo, useCallback í™œìš©
- ê°€ìƒí™” ìŠ¤í¬ë¡¤ (react-window)

### ë²ˆë“¤ ìµœì í™”
- ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…
- ë™ì  import
- Tree shaking

## ğŸ”§ ê°œë°œ í™˜ê²½ ì„¤ì •

### í•„ìš”í•œ íŒ¨í‚¤ì§€
```json
{
  "devDependencies": {
    "@storybook/react": "^7.0.0",
    "@testing-library/react": "^13.0.0",
    "@testing-library/jest-dom": "^5.0.0",
    "@types/testing-library__jest-dom": "^5.0.0"
  },
  "dependencies": {
    "react-window": "^1.8.8",
    "react-error-boundary": "^4.0.11"
  }
}
```

### ì„¤ì • íŒŒì¼
- `.storybook/main.js` - Storybook ì„¤ì •
- `jest.config.js` - í…ŒìŠ¤íŠ¸ ì„¤ì •
- `tsconfig.json` - ê²½ë¡œ ë³„ì¹­ ì„¤ì • 