
> agoramind@0.1.0 dev
> next dev --turbopack -H 0.0.0.0

   â–² Next.js 15.2.4 (Turbopack)
   - Local:        http://localhost:3000
   - Network:      http://0.0.0.0:3000
   - Environments: .env.local

 âœ“ Starting...
 âœ“ Ready in 845ms
 â—‹ Compiling /_not-found/page ...
 GET /api/socket/io?EIO=4&transport=polling&t=5dht9lrv 404 in 2942ms
 GET /api/socket/io?EIO=4&transport=polling&t=5djagvm6 404 in 1242ms
 âœ“ Compiled /_not-found/page in 3.2s
 GET /chat?id=5 200 in 1513ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: { id: '5' }
ID 5ë¡œ ì±„íŒ…ë£¸ ê²€ìƒ‰ ì¤‘
 â—‹ Compiling /favicon.ico ...
ê²€ìƒ‰ ê²°ê³¼: ì°¾ìŒ
ì±„íŒ…ë£¸ 5 ì •ë³´: {
  title: 'ìœ ì „ìž íŽ¸ì§‘ ìž‘ë¬¼ë¡œ â€˜ê¸°í›„ ì ì‘â€™â€”ê¸°íšŒì¸ê°€ í”„ëž‘ì¼„í‘¸ë“œì¸ê°€',
  messagesCount: 53,
  lastMessageFrom: 'User_9221'
}
 GET /api/rooms?id=5 304 in 534ms
 GET /favicon.ico?favicon.45db1c09.ico 200 in 792ms
 âœ“ Compiled /favicon.ico in 1273ms
ðŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ðŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: not set
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 617ms
ðŸ” Fetching NPC details for ID: 655a4396-ef73-4e67-8ae6-c9f00f4a20ca
ðŸ” Searching by backend_id (UUID): 655a4396-ef73-4e67-8ae6-c9f00f4a20ca
âœ… Found custom NPC: ë¹µë¹ ë¼ìŠ¤
   _id: 6811406a9ba7d1076eba2e95, backend_id: not set
   portrait_url: http://localhost:8000/portraits/bbangbbaraseu_1745961092.png
 GET /api/npc/get?id=655a4396-ef73-4e67-8ae6-c9f00f4a20ca 200 in 24ms
ðŸ” Fetching NPC details for ID: marx
ðŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=marx
âŒ Backend API í˜¸ì¶œ ì˜¤ë¥˜: TypeError: fetch failed
    at async GET (src/app/api/npc/get/route.ts:95:30)
  93 |       // Python ë°±ì—”ë“œ API í˜¸ì¶œ ì‹œë„
  94 |       console.log(`ðŸ”„ Trying backend API at ${BACKEND_API_URL}/api/npc/get?id=${id}`);
> 95 |       const backendResponse = await fetch(`${BACKEND_API_URL}/api/npc/get?id=${id}`, {
     |                              ^
  96 |         cache: 'no-store'
  97 |       });
  98 |        {
  [cause]: Error: connect ECONNREFUSED 0.0.0.0:8000
      at <unknown> (Error: connect ECONNREFUSED 0.0.0.0:8000) {
    errno: -61,
    code: 'ECONNREFUSED',
    syscall: 'connect',
    address: '0.0.0.0',
    port: 8000
  }
}
âœ… Found local philosopher profile: Marx
 GET /api/npc/get?id=marx 200 in 103ms
ðŸ” Fetching NPC details for ID: kant
ðŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
âŒ Backend API í˜¸ì¶œ ì˜¤ë¥˜: TypeError: fetch failed
    at async GET (src/app/api/npc/get/route.ts:95:30)
  93 |       // Python ë°±ì—”ë“œ API í˜¸ì¶œ ì‹œë„
  94 |       console.log(`ðŸ”„ Trying backend API at ${BACKEND_API_URL}/api/npc/get?id=${id}`);
> 95 |       const backendResponse = await fetch(`${BACKEND_API_URL}/api/npc/get?id=${id}`, {
     |                              ^
  96 |         cache: 'no-store'
  97 |       });
  98 |        {
  [cause]: Error: connect ECONNREFUSED 0.0.0.0:8000
      at <unknown> (Error: connect ECONNREFUSED 0.0.0.0:8000) {
    errno: -61,
    code: 'ECONNREFUSED',
    syscall: 'connect',
    address: '0.0.0.0',
    port: 8000
  }
}
âœ… Found local philosopher profile: Kant
 GET /api/npc/get?id=kant 200 in 64ms
ðŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ðŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: not set
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 89ms
 âœ“ Compiled /api/socket in 190ms
ðŸ” Fetching NPC details for ID: 655a4396-ef73-4e67-8ae6-c9f00f4a20ca
ðŸ” Searching by backend_id (UUID): 655a4396-ef73-4e67-8ae6-c9f00f4a20ca
âœ… Found custom NPC: ë¹µë¹ ë¼ìŠ¤
   _id: 6811406a9ba7d1076eba2e95, backend_id: not set
   portrait_url: http://localhost:8000/portraits/bbangbbaraseu_1745961092.png
 GET /api/npc/get?id=655a4396-ef73-4e67-8ae6-c9f00f4a20ca 200 in 166ms
ðŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ðŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: not set
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 194ms
ðŸ“ socket.ts: .env.local íŒŒì¼ì„ ì°¾ì•˜ìŠµë‹ˆë‹¤.
âœ… socket.ts: .env.local íŒŒì¼ì—ì„œ ì„¤ì •ì„ ë¡œë“œí–ˆìŠµë‹ˆë‹¤.
socket.ts - API Key source: .env.local íŒŒì¼
socket.ts - API Key check: sk-proj...svYA
Initializing socket server...
Socket.IO server initialized
 GET /api/socket 304 in 127ms
New client connected: lFHZ2aldAIBqAmeKAAAB
User User_9221 joined room 5
Getting active users for room: 5
ðŸ” Fetching NPC details for ID: marx
ðŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=marx
âŒ Backend API í˜¸ì¶œ ì˜¤ë¥˜: TypeError: fetch failed
    at async GET (src/app/api/npc/get/route.ts:95:30)
  93 |       // Python ë°±ì—”ë“œ API í˜¸ì¶œ ì‹œë„
  94 |       console.log(`ðŸ”„ Trying backend API at ${BACKEND_API_URL}/api/npc/get?id=${id}`);
> 95 |       const backendResponse = await fetch(`${BACKEND_API_URL}/api/npc/get?id=${id}`, {
     |                              ^
  96 |         cache: 'no-store'
  97 |       });
  98 |        {
  [cause]: Error: connect ECONNREFUSED 0.0.0.0:8000
      at <unknown> (Error: connect ECONNREFUSED 0.0.0.0:8000) {
    errno: -61,
    code: 'ECONNREFUSED',
    syscall: 'connect',
    address: '0.0.0.0',
    port: 8000
  }
}
âœ… Found local philosopher profile: Marx
 GET /api/npc/get?id=marx 200 in 179ms
ðŸ” Fetching NPC details for ID: 655a4396-ef73-4e67-8ae6-c9f00f4a20ca
ðŸ” Searching by backend_id (UUID): 655a4396-ef73-4e67-8ae6-c9f00f4a20ca
âœ… Found custom NPC: ë¹µë¹ ë¼ìŠ¤
   _id: 6811406a9ba7d1076eba2e95, backend_id: not set
   portrait_url: http://localhost:8000/portraits/bbangbbaraseu_1745961092.png
 GET /api/npc/get?id=655a4396-ef73-4e67-8ae6-c9f00f4a20ca 200 in 167ms
 GET /api/auth/session 200 in 2033ms
ðŸ” Fetching NPC details for ID: marx
ðŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=marx
âŒ Backend API í˜¸ì¶œ ì˜¤ë¥˜: TypeError: fetch failed
    at async GET (src/app/api/npc/get/route.ts:95:30)
  93 |       // Python ë°±ì—”ë“œ API í˜¸ì¶œ ì‹œë„
  94 |       console.log(`ðŸ”„ Trying backend API at ${BACKEND_API_URL}/api/npc/get?id=${id}`);
> 95 |       const backendResponse = await fetch(`${BACKEND_API_URL}/api/npc/get?id=${id}`, {
     |                              ^
  96 |         cache: 'no-store'
  97 |       });
  98 |        {
  [cause]: Error: connect ECONNREFUSED 0.0.0.0:8000
      at <unknown> (Error: connect ECONNREFUSED 0.0.0.0:8000) {
    errno: -61,
    code: 'ECONNREFUSED',
    syscall: 'connect',
    address: '0.0.0.0',
    port: 8000
  }
}
âœ… Found local philosopher profile: Marx
 GET /api/npc/get?id=marx 200 in 87ms
ðŸ” Fetching NPC details for ID: kant
ðŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
âŒ Backend API í˜¸ì¶œ ì˜¤ë¥˜: TypeError: fetch failed
    at async GET (src/app/api/npc/get/route.ts:95:30)
  93 |       // Python ë°±ì—”ë“œ API í˜¸ì¶œ ì‹œë„
  94 |       console.log(`ðŸ”„ Trying backend API at ${BACKEND_API_URL}/api/npc/get?id=${id}`);
> 95 |       const backendResponse = await fetch(`${BACKEND_API_URL}/api/npc/get?id=${id}`, {
     |                              ^
  96 |         cache: 'no-store'
  97 |       });
  98 |        {
  [cause]: Error: connect ECONNREFUSED 0.0.0.0:8000
      at <unknown> (Error: connect ECONNREFUSED 0.0.0.0:8000) {
    errno: -61,
    code: 'ECONNREFUSED',
    syscall: 'connect',
    address: '0.0.0.0',
    port: 8000
  }
}
âœ… Found local philosopher profile: Kant
 GET /api/npc/get?id=kant 200 in 121ms
ðŸ” Fetching NPC details for ID: kant
ðŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
âŒ Backend API í˜¸ì¶œ ì˜¤ë¥˜: TypeError: fetch failed
    at async GET (src/app/api/npc/get/route.ts:95:30)
  93 |       // Python ë°±ì—”ë“œ API í˜¸ì¶œ ì‹œë„
  94 |       console.log(`ðŸ”„ Trying backend API at ${BACKEND_API_URL}/api/npc/get?id=${id}`);
> 95 |       const backendResponse = await fetch(`${BACKEND_API_URL}/api/npc/get?id=${id}`, {
     |                              ^
  96 |         cache: 'no-store'
  97 |       });
  98 |        {
  [cause]: Error: connect ECONNREFUSED 0.0.0.0:8000
      at <unknown> (Error: connect ECONNREFUSED 0.0.0.0:8000) {
    errno: -61,
    code: 'ECONNREFUSED',
    syscall: 'connect',
    address: '0.0.0.0',
    port: 8000
  }
}
âœ… Found local philosopher profile: Kant
 GET /api/npc/get?id=kant 200 in 46ms
 GET /chat?id=5 200 in 58ms
Client disconnected: lFHZ2aldAIBqAmeKAAAB
 GET /favicon.ico?favicon.45db1c09.ico 200 in 68ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: { id: '5' }
ID 5ë¡œ ì±„íŒ…ë£¸ ê²€ìƒ‰ ì¤‘
ê²€ìƒ‰ ê²°ê³¼: ì°¾ìŒ
ì±„íŒ…ë£¸ 5 ì •ë³´: {
  title: 'ìœ ì „ìž íŽ¸ì§‘ ìž‘ë¬¼ë¡œ â€˜ê¸°í›„ ì ì‘â€™â€”ê¸°íšŒì¸ê°€ í”„ëž‘ì¼„í‘¸ë“œì¸ê°€',
  messagesCount: 53,
  lastMessageFrom: 'User_9221'
}
 GET /api/rooms?id=5 304 in 24ms
 GET /api/auth/session 200 in 63ms
ðŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ðŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: not set
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 19ms
ðŸ” Fetching NPC details for ID: 655a4396-ef73-4e67-8ae6-c9f00f4a20ca
ðŸ” Searching by backend_id (UUID): 655a4396-ef73-4e67-8ae6-c9f00f4a20ca
âœ… Found custom NPC: ë¹µë¹ ë¼ìŠ¤
   _id: 6811406a9ba7d1076eba2e95, backend_id: not set
   portrait_url: http://localhost:8000/portraits/bbangbbaraseu_1745961092.png
 GET /api/npc/get?id=655a4396-ef73-4e67-8ae6-c9f00f4a20ca 200 in 19ms
ðŸ” Fetching NPC details for ID: marx
ðŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=marx
âŒ Backend API í˜¸ì¶œ ì˜¤ë¥˜: TypeError: fetch failed
    at async GET (src/app/api/npc/get/route.ts:95:30)
  93 |       // Python ë°±ì—”ë“œ API í˜¸ì¶œ ì‹œë„
  94 |       console.log(`ðŸ”„ Trying backend API at ${BACKEND_API_URL}/api/npc/get?id=${id}`);
> 95 |       const backendResponse = await fetch(`${BACKEND_API_URL}/api/npc/get?id=${id}`, {
     |                              ^
  96 |         cache: 'no-store'
  97 |       });
  98 |        {
  [cause]: Error: connect ECONNREFUSED 0.0.0.0:8000
      at <unknown> (Error: connect ECONNREFUSED 0.0.0.0:8000) {
    errno: -61,
    code: 'ECONNREFUSED',
    syscall: 'connect',
    address: '0.0.0.0',
    port: 8000
  }
}
âœ… Found local philosopher profile: Marx
 GET /api/npc/get?id=marx 200 in 50ms
ðŸ” Fetching NPC details for ID: kant
ðŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
âŒ Backend API í˜¸ì¶œ ì˜¤ë¥˜: TypeError: fetch failed
    at async GET (src/app/api/npc/get/route.ts:95:30)
  93 |       // Python ë°±ì—”ë“œ API í˜¸ì¶œ ì‹œë„
  94 |       console.log(`ðŸ”„ Trying backend API at ${BACKEND_API_URL}/api/npc/get?id=${id}`);
> 95 |       const backendResponse = await fetch(`${BACKEND_API_URL}/api/npc/get?id=${id}`, {
     |                              ^
  96 |         cache: 'no-store'
  97 |       });
  98 |        {
  [cause]: Error: connect ECONNREFUSED 0.0.0.0:8000
      at <unknown> (Error: connect ECONNREFUSED 0.0.0.0:8000) {
    errno: -61,
    code: 'ECONNREFUSED',
    syscall: 'connect',
    address: '0.0.0.0',
    port: 8000
  }
}
âœ… Found local philosopher profile: Kant
 GET /api/npc/get?id=kant 200 in 55ms
Socket server already running
 GET /api/socket 304 in 64ms
New client connected: XUyRGxrDuVo1g0RmAAAD
User User_9221 joined room 5
Getting active users for room: 5
ðŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ðŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: not set
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 249ms
ðŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ðŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: not set
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 37ms
ðŸ” Fetching NPC details for ID: 655a4396-ef73-4e67-8ae6-c9f00f4a20ca
ðŸ” Searching by backend_id (UUID): 655a4396-ef73-4e67-8ae6-c9f00f4a20ca
âœ… Found custom NPC: ë¹µë¹ ë¼ìŠ¤
   _id: 6811406a9ba7d1076eba2e95, backend_id: not set
   portrait_url: http://localhost:8000/portraits/bbangbbaraseu_1745961092.png
 GET /api/npc/get?id=655a4396-ef73-4e67-8ae6-c9f00f4a20ca 200 in 23ms
ðŸ” Fetching NPC details for ID: 655a4396-ef73-4e67-8ae6-c9f00f4a20ca
ðŸ” Searching by backend_id (UUID): 655a4396-ef73-4e67-8ae6-c9f00f4a20ca
ðŸ” Fetching NPC details for ID: marx
ðŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=marx
âœ… Found custom NPC: ë¹µë¹ ë¼ìŠ¤
   _id: 6811406a9ba7d1076eba2e95, backend_id: not set
   portrait_url: http://localhost:8000/portraits/bbangbbaraseu_1745961092.png
 GET /api/npc/get?id=655a4396-ef73-4e67-8ae6-c9f00f4a20ca 200 in 26ms
âŒ Backend API í˜¸ì¶œ ì˜¤ë¥˜: TypeError: fetch failed
    at async GET (src/app/api/npc/get/route.ts:95:30)
  93 |       // Python ë°±ì—”ë“œ API í˜¸ì¶œ ì‹œë„
  94 |       console.log(`ðŸ”„ Trying backend API at ${BACKEND_API_URL}/api/npc/get?id=${id}`);
> 95 |       const backendResponse = await fetch(`${BACKEND_API_URL}/api/npc/get?id=${id}`, {
     |                              ^
  96 |         cache: 'no-store'
  97 |       });
  98 |        {
  [cause]: Error: connect ECONNREFUSED 0.0.0.0:8000
      at <unknown> (Error: connect ECONNREFUSED 0.0.0.0:8000) {
    errno: -61,
    code: 'ECONNREFUSED',
    syscall: 'connect',
    address: '0.0.0.0',
    port: 8000
  }
}
âœ… Found local philosopher profile: Marx
 GET /api/npc/get?id=marx 200 in 56ms
ðŸ” Fetching NPC details for ID: marx
ðŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=marx
âŒ Backend API í˜¸ì¶œ ì˜¤ë¥˜: TypeError: fetch failed
    at async GET (src/app/api/npc/get/route.ts:95:30)
  93 |       // Python ë°±ì—”ë“œ API í˜¸ì¶œ ì‹œë„
  94 |       console.log(`ðŸ”„ Trying backend API at ${BACKEND_API_URL}/api/npc/get?id=${id}`);
> 95 |       const backendResponse = await fetch(`${BACKEND_API_URL}/api/npc/get?id=${id}`, {
     |                              ^
  96 |         cache: 'no-store'
  97 |       });
  98 |        {
  [cause]: Error: connect ECONNREFUSED 0.0.0.0:8000
      at <unknown> (Error: connect ECONNREFUSED 0.0.0.0:8000) {
    errno: -61,
    code: 'ECONNREFUSED',
    syscall: 'connect',
    address: '0.0.0.0',
    port: 8000
  }
}
âœ… Found local philosopher profile: Marx
 GET /api/npc/get?id=marx 200 in 60ms
ðŸ” Fetching NPC details for ID: kant
ðŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
âŒ Backend API í˜¸ì¶œ ì˜¤ë¥˜: TypeError: fetch failed
    at async GET (src/app/api/npc/get/route.ts:95:30)
  93 |       // Python ë°±ì—”ë“œ API í˜¸ì¶œ ì‹œë„
  94 |       console.log(`ðŸ”„ Trying backend API at ${BACKEND_API_URL}/api/npc/get?id=${id}`);
> 95 |       const backendResponse = await fetch(`${BACKEND_API_URL}/api/npc/get?id=${id}`, {
     |                              ^
  96 |         cache: 'no-store'
  97 |       });
  98 |        {
  [cause]: Error: connect ECONNREFUSED 0.0.0.0:8000
      at <unknown> (Error: connect ECONNREFUSED 0.0.0.0:8000) {
    errno: -61,
    code: 'ECONNREFUSED',
    syscall: 'connect',
    address: '0.0.0.0',
    port: 8000
  }
}
âœ… Found local philosopher profile: Kant
 GET /api/npc/get?id=kant 200 in 92ms
ðŸ” Fetching NPC details for ID: kant
ðŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
âŒ Backend API í˜¸ì¶œ ì˜¤ë¥˜: TypeError: fetch failed
    at async GET (src/app/api/npc/get/route.ts:95:30)
  93 |       // Python ë°±ì—”ë“œ API í˜¸ì¶œ ì‹œë„
  94 |       console.log(`ðŸ”„ Trying backend API at ${BACKEND_API_URL}/api/npc/get?id=${id}`);
> 95 |       const backendResponse = await fetch(`${BACKEND_API_URL}/api/npc/get?id=${id}`, {
     |                              ^
  96 |         cache: 'no-store'
  97 |       });
  98 |        {
  [cause]: Error: connect ECONNREFUSED 0.0.0.0:8000
      at <unknown> (Error: connect ECONNREFUSED 0.0.0.0:8000) {
    errno: -61,
    code: 'ECONNREFUSED',
    syscall: 'connect',
    address: '0.0.0.0',
    port: 8000
  }
}
âœ… Found local philosopher profile: Kant
 GET /api/npc/get?id=kant 200 in 57ms
[?25h
