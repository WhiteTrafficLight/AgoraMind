
> agoramind@0.1.0 dev
> next dev --turbopack -H 0.0.0.0

   â–² Next.js 15.2.4 (Turbopack)
   - Local:        http://localhost:3000
   - Network:      http://0.0.0.0:3000
   - Environments: .env.local

 âœ“ Starting...
 âœ“ Ready in 3.1s
 â—‹ Compiling /open-chat ...
 âœ“ Compiled /open-chat in 2.5s
 GET /open-chat 200 in 2850ms
 â—‹ Compiling /favicon.ico ...
ğŸ“ socket.ts: .env.local íŒŒì¼ì„ ì°¾ì•˜ìŠµë‹ˆë‹¤.
âœ… socket.ts: .env.local íŒŒì¼ì—ì„œ ì„¤ì •ì„ ë¡œë“œí–ˆìŠµë‹ˆë‹¤.
socket.ts - API Key source: .env.local íŒŒì¼
socket.ts - API Key check: sk-proj...svYA
Initializing socket server...
Socket.IO server initialized
 GET /api/socket 304 in 985ms
New client connected: YbrW6LrgB7OjCP_nAAAB
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: {}
 GET /favicon.ico?favicon.45db1c09.ico 200 in 1792ms
 GET /api/rooms 200 in 650ms
 âœ“ Compiled /favicon.ico in 2.4s
 GET /api/npc/list 200 in 2835ms
 GET /api/auth/session 200 in 3089ms
 â—‹ Compiling /chat ...
 âœ“ Compiled /chat in 923ms
 GET /chat?id=23 200 in 991ms
Client disconnected: YbrW6LrgB7OjCP_nAAAB
Socket server already running
 GET /api/socket 304 in 12ms
New client connected: n0ftXBELi7OhjEgjAAAD
User User_9217 joined room 23
Getting active users for room: 23
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: { id: '23' }
ID 23ë¡œ ì±„íŒ…ë£¸ ê²€ìƒ‰ ì¤‘
 â—‹ Compiling /api/npc/get ...
ê²€ìƒ‰ ê²°ê³¼: ì°¾ìŒ
ì±„íŒ…ë£¸ 23 ì •ë³´: { title: 'ë‚˜ëŠ” ì™œì´ë ‡ê²Œ ì²´ë ¥ì´ ì•½í• ê¹Œ', messagesCount: 7, lastMessageFrom: 'kant' }
 GET /api/rooms?id=23 200 in 741ms
 âœ“ Compiled /api/npc/get in 923ms
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Fetching NPC details for ID: kant
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 1017ms
ğŸ” Fetching NPC details for ID: marx
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=marx
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 23ms
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 19ms
âœ… Got NPC details from backend: Immanuel Kant
 GET /api/npc/get?id=kant 200 in 2070ms
âœ… Got NPC details from backend: Karl Marx
 GET /api/npc/get?id=marx 200 in 2077ms
ğŸ” Fetching NPC details for ID: kant
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
âœ… Got NPC details from backend: Immanuel Kant
 GET /api/npc/get?id=kant 200 in 62ms
ğŸ” Fetching NPC details for ID: kant
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
âœ… Got NPC details from backend: Immanuel Kant
 GET /api/npc/get?id=kant 200 in 61ms
ğŸ” Fetching NPC details for ID: marx
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=marx
âœ… Got NPC details from backend: Karl Marx
 GET /api/npc/get?id=marx 200 in 47ms
ğŸ” Fetching NPC details for ID: marx
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=marx
âœ… Got NPC details from backend: Karl Marx
 GET /api/npc/get?id=marx 200 in 52ms
ğŸš¨ socket.id n0ftXBELi7OhjEgjAAAD send-message RAW data: {
  roomId: '23',
  message: {
    id: 'socket-1746195281608',
    text: 'ì•ˆë…•',
    sender: 'User_9217',
    isUser: true,
    timestamp: '2025-05-02T14:14:41.608Z'
  }
}
ğŸš¨ 'send-message' ì´ë²¤íŠ¸ ìˆ˜ì‹  - ë°© ID: 23, ë©”ì‹œì§€: {
  id: 'socket-1746195281608',
  text: 'ì•ˆë…•',
  sender: 'User_9217',
  isUser: true,
  timestamp: '2025-05-02T14:14:41.608Z'
}
ğŸ’¾ MongoDBì— ë©”ì‹œì§€ ì €ì¥ ì¤‘: ì•ˆë…•...
âœ… ë©”ì‹œì§€ê°€ MongoDBì— ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.
ğŸ“¢ ë©”ì‹œì§€ ë¸Œë¡œë“œìºìŠ¤íŠ¸ [ë°© 23]: {"id":"socket-1746195281608","text":"ì•ˆë…•...","sender":"User_9217"}
ğŸ“Š í˜„ì¬ ë°©(23)ì— ì—°ê²°ëœ í´ë¼ì´ì–¸íŠ¸ ìˆ˜: 1ëª…
âœ… ë¸Œë¡œë“œìºìŠ¤íŠ¸ ì™„ë£Œ - ë°œì‹ ì ì œì™¸ ë°©ì†¡
ğŸ¤– AI ì‘ë‹µ ìƒì„± ì¤‘... ë°© ID: 23
ğŸ” AI API ìš”ì²­ ì‹œì‘ - ë°© ID: 23, ë©”ì‹œì§€ ìˆ˜: 8
ğŸ“¤ API ìš”ì²­ í˜ì´ë¡œë“œ: {"roomId":"23","topic":"ë‚˜ëŠ” ì™œì´ë ‡ê²Œ ì²´ë ¥ì´ ì•½í• ê¹Œ","context":"...","messages":"8ê°œ ë©”ì‹œì§€","participants":{"users":["User_9667"],"npcs":["e0c3872b-2103-4d04-8a2d-801bbd7f43cf","kant","marx"]}}
ğŸ”— API URL: http://localhost:3000/api/chat
 âœ“ Compiled /api/chat in 448ms
ğŸ“ .env.local íŒŒì¼ì„ ì°¾ì•˜ìŠµë‹ˆë‹¤.
âœ… .env.local íŒŒì¼ì—ì„œ ì„¤ì •ì„ ë¡œë“œí–ˆìŠµë‹ˆë‹¤.
API Key source: .env.local íŒŒì¼
API Key check: sk-proj...svYA
Using API key from: request header
Processing chat for topic: ë‚˜ëŠ” ì™œì´ë ‡ê²Œ ì²´ë ¥ì´ ì•½í• ê¹Œ
Participating NPCs: e0c3872b-2103-4d04-8a2d-801bbd7f43cf, kant, marx
Using NPC details: No
Using LLM Provider: openai
ğŸ”„ Calling Python backend (llm_manager) API...
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 32ms
âœ… Python backend API response received
ğŸ’¾ ì‚¬ìš©ì ë©”ì‹œì§€ ì €ì¥: ì•ˆë…•...
Duplicate message: socket-1746195281608
ğŸ’¾ AI ì‘ë‹µ ì €ì¥: Greetings! Your inquiry about ...
âœ… ë©”ì‹œì§€ê°€ MongoDBì— ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.
 POST /api/chat 200 in 3965ms
ğŸ” API ì‘ë‹µ ìƒíƒœ: 200 OK
ğŸ“¥ API ì‘ë‹µ ë°ì´í„°: {"id":"api-1746195285645","text":"Greetings! Your inquiry about physical weakness is quite profound. Let's consider whether you might be neglecting the balance between your mental pursuits and physica...
Duplicate message: api-1746195285645
âœ… AI ë©”ì‹œì§€(api-1746195285645)ê°€ MongoDBì— ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.
âœ… AI ì‘ë‹µ ë¸Œë¡œë“œìºìŠ¤íŠ¸ ì™„ë£Œ - ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì „ì†¡ë¨
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 32ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: { id: '23' }
ID 23ë¡œ ì±„íŒ…ë£¸ ê²€ìƒ‰ ì¤‘
ê²€ìƒ‰ ê²°ê³¼: ì°¾ìŒ
ì±„íŒ…ë£¸ 23 ì •ë³´: {
  title: 'ë‚˜ëŠ” ì™œì´ë ‡ê²Œ ì²´ë ¥ì´ ì•½í• ê¹Œ',
  messagesCount: 9,
  lastMessageFrom: 'e0c3872b-2103-4d04-8a2d-801bbd7f43cf'
}
 GET /api/rooms?id=23 200 in 26ms
PUT ìš”ì²­ ì²˜ë¦¬ - ì±„íŒ…ë£¸ ì—…ë°ì´íŠ¸
ë£¸ ì—…ë°ì´íŠ¸ ìš”ì²­: ID 23
Updating room 23 with: {
  message: {
    id: 'auto-c8699abc',
    text: "Indeed, as you explore the reasons behind your physical weakness, consider Kant's imperative to treat oneself always as an end and never merely as a means. Reflect on whether your daily routines and choices respect your body's inherent needs and dignity. This self-examination will not only aid in understanding your physical limitations but also aligns with the moral duty to maintain and enhance one's own well-being as a rational being.",
    sender: 'kant',
    senderName: 'Immanuel Kant',
    senderType: 'npc',
    isUser: false,
    timestamp: '2025-05-02T16:14:56.922890',
    portrait_url: 'http://localhost:8000/portraits/Kant.png',
    npc_id: 'kant'
  }
}
ìƒˆ ë©”ì‹œì§€ ì¶”ê°€: kantì˜ ë©”ì‹œì§€, ID: auto-c8699abc
ğŸ“‹ ë©”ì‹œì§€ ì „ì²´ ë°ì´í„°: {
  "id": "auto-c8699abc",
  "text": "Indeed, as you explore the reasons behind your physical weakness, consider Kant's imperative to treat oneself always as an end and never merely as a means. Reflect on whether your daily routines and choices respect your body's inherent needs and dignity. This self-examination will not only aid in understanding your physical limitations but also aligns with the moral duty to maintain and enhance one's own well-being as a rational being.",
  "sender": "kant",
  "senderName": "Immanuel Kant",
  "senderType": "npc",
  "isUser": false,
  "timestamp": "2025-05-02T16:14:56.922890",
  "portrait_url": "http://localhost:8000/portraits/Kant.png",
  "npc_id": "kant"
}
ë£¸ 23ì— kantì˜ ìƒˆ ë©”ì‹œì§€ ì¶”ê°€ë¨
Broadcasting message-added event
ğŸ”„ Socket.IO ë¸Œë¡œë“œìºìŠ¤íŠ¸ ë°ì´í„°: {
  "roomId": "23",
  "message": {
    "id": "auto-c8699abc",
    "text": "Indeed, as you explore the reasons behind your physical weakness, consider Kant's imperative to treat oneself always as an end and never merely as a means. Reflect on whether your daily routines and choices respect your body's inherent needs and dignity. This self-examination will not only aid in understanding your physical limitations but also aligns with the moral duty to maintain and enhance one's own well-being as a rational being.",
    "sender": "kant",
    "senderName": "Immanuel Kant",
    "senderType": "npc",
    "isUser": false,
    "timestamp": "2025-05-02T16:14:56.922890",
    "portrait_url": "http://localhost:8000/portraits/Kant.png",
    "npc_id": "kant"
  }
}
âœ… ë¸Œë¡œë“œìºìŠ¤íŠ¸ ì™„ë£Œ - ë°© ID: 23, ë©”ì‹œì§€ ID: auto-c8699abc
 PUT /api/rooms?id=23 200 in 222ms
ğŸ” Fetching NPC details for ID: kant
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
Socket API POST ìš”ì²­ ë°›ìŒ: {
  action: 'broadcast',
  room: '23',
  event: 'new-message',
  data: {
    roomId: '23',
    message: {
      id: 'auto-c8699abc',
      text: "Indeed, as you explore the reasons behind your physical weakness, consider Kant's imperative to treat oneself always as an end and never merely as a means. Reflect on whether your daily routines and choices respect your body's inherent needs and dignity. This self-examination will not only aid in understanding your physical limitations but also aligns with the moral duty to maintain and enhance one's own well-being as a rational being.",
      sender: 'kant',
      senderName: 'Immanuel Kant',
      senderType: 'npc',
      isUser: false,
      timestamp: '2025-05-02T16:14:56.922890',
      portrait_url: 'http://localhost:8000/portraits/Kant.png',
      npc_id: 'kant'
    }
  }
}
ğŸ“¢ ë¸Œë¡œë“œìºìŠ¤íŠ¸ ìš”ì²­ - ë°©: 23, ì´ë²¤íŠ¸: new-message
âœ… ë¸Œë¡œë“œìºìŠ¤íŠ¸ ì™„ë£Œ - 23 ë°©ì˜ ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ì—ê²Œ new-message ì´ë²¤íŠ¸ ì „ì†¡ë¨
 POST /api/socket 200 in 123ms
âœ… Got NPC details from backend: Immanuel Kant
 GET /api/npc/get?id=kant 200 in 345ms
ğŸ” Fetching NPC details for ID: kant
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
âœ… Got NPC details from backend: Immanuel Kant
 GET /api/npc/get?id=kant 200 in 695ms
 âš  Fast Refresh had to perform a full reload when [turbopack]/browser/dev/hmr-client/hmr-client.ts changed. Read more: https://nextjs.org/docs/messages/fast-refresh-reload
 âœ“ Compiled in 1852ms
 â—‹ Compiling /chat ...
 âœ“ Compiled /chat in 559ms
 GET /chat?id=23 200 in 3605ms
 GET /chat?id=23 200 in 3124ms
Client disconnected: n0ftXBELi7OhjEgjAAAD
 âš  Found a change in next.config.ts. Restarting the server to apply the changes...
   â–² Next.js 15.2.4 (Turbopack)
   - Local:        http://localhost:3000
   - Network:      http://0.0.0.0:3000
   - Environments: .env.local

 âœ“ Starting...
 âœ“ Ready in 1323ms
 âœ“ Compiled /api/rooms in 72ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: { id: '23' }
ID 23ë¡œ ì±„íŒ…ë£¸ ê²€ìƒ‰ ì¤‘
ê²€ìƒ‰ ê²°ê³¼: ì°¾ìŒ
ì±„íŒ…ë£¸ 23 ì •ë³´: {
  title: 'ë‚˜ëŠ” ì™œì´ë ‡ê²Œ ì²´ë ¥ì´ ì•½í• ê¹Œ',
  messagesCount: 10,
  lastMessageFrom: 'kant'
}
 GET /api/rooms?id=23 200 in 396ms
 â—‹ Compiling /api/npc/get ...
 âœ“ Compiled /api/npc/get in 1365ms
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: not set
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 2362ms
ğŸ” Fetching NPC details for ID: kant
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
 â—‹ Compiling / ...
 âœ“ Compiled / in 2.1s
 GET / 200 in 2460ms
 GET /api/npc/get?id=kant 200 in 9039ms
 â—‹ Compiling /favicon.ico ...
 GET /favicon.ico?favicon.45db1c09.ico 200 in 1037ms
 âœ“ Compiled /favicon.ico in 1671ms
 GET /api/auth/session 200 in 2730ms
âœ… Got NPC details from backend: Immanuel Kant
 â—‹ Compiling /open-chat ...
 âœ“ Compiled /open-chat in 1660ms
 GET /open-chat 200 in 1771ms
ğŸ“ socket.ts: .env.local íŒŒì¼ì„ ì°¾ì•˜ìŠµë‹ˆë‹¤.
âœ… socket.ts: .env.local íŒŒì¼ì—ì„œ ì„¤ì •ì„ ë¡œë“œí–ˆìŠµë‹ˆë‹¤.
socket.ts - API Key source: .env.local íŒŒì¼
socket.ts - API Key check: sk-proj...svYA
Initializing socket server...
Socket.IO server initialized
 GET /api/socket 304 in 85ms
New client connected: DReHn52aP9YVVJbcAAAB
Socket server already running
 GET /api/socket 304 in 19ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: {}
New client connected: C7uQcmC5sADrN2yqAAAD
 GET /api/rooms 304 in 87ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: {}
 â—‹ Compiling /api/socket ...
 GET /api/rooms 304 in 132ms
 âœ“ Compiled /api/socket in 711ms
 GET /api/npc/list 200 in 803ms
 GET /api/npc/list 200 in 82ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: {}
 GET /api/rooms 304 in 149ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: {}
 GET /api/rooms 304 in 38ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: {}
 GET /api/rooms 304 in 32ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: {}
 GET /api/rooms 304 in 22ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: {}
 GET /api/rooms 304 in 20ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: {}
 GET /api/rooms 304 in 29ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: {}
 GET /api/rooms 304 in 61ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: {}
 GET /api/rooms 304 in 47ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: {}
 GET /api/rooms 304 in 116ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: {}
 GET /api/rooms 304 in 25ms
Client disconnected: DReHn52aP9YVVJbcAAAB
Client disconnected: C7uQcmC5sADrN2yqAAAD
New client connected: 3qZS5_TkPejBvFIKAAAF
New client connected: 6sEFRXQgmkcalU15AAAH
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: {}
 GET /api/rooms 304 in 68ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: {}
 GET /api/rooms 304 in 57ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: {}
 GET /api/rooms 304 in 22ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: {}
 GET /api/rooms 304 in 5056ms
 âš  Found a change in next.config.ts. Restarting the server to apply the changes...
   â–² Next.js 15.2.4 (Turbopack)
   - Local:        http://localhost:3000
   - Network:      http://0.0.0.0:3000
   - Environments: .env.local

 âœ“ Starting...
 âœ“ Ready in 1716ms
 â—‹ Compiling /_not-found/page ...
 âœ“ Compiled /_not-found/page in 1922ms
 GET /api/socket/io?EIO=4&transport=polling&t=wyfit26j 404 in 2291ms
 GET /api/socket/io?EIO=4&transport=polling&t=wyfj38kq 404 in 2285ms
 GET /api/socket/io?EIO=4&transport=polling&t=wyk53hnh 404 in 70ms
 GET /api/socket/io?EIO=4&transport=polling&t=wyloktv7 404 in 73ms
 GET /api/socket/io?EIO=4&transport=polling&t=wyortvp6 404 in 92ms
 âœ“ Compiled in 969ms
 âœ“ Compiled /_not-found/page in 6ms
 GET /api/socket/io?EIO=4&transport=polling&t=wyqbhbcb 404 in 1541ms
 GET /api/socket/io?EIO=4&transport=polling&t=wytec70o 404 in 193ms
 GET /api/socket/io?EIO=4&transport=polling&t=wyvq0rg0 404 in 404ms
 âš  Found a change in next.config.ts. Restarting the server to apply the changes...
   â–² Next.js 15.2.4 (Turbopack)
   - Local:        http://localhost:3000
   - Network:      http://0.0.0.0:3000
   - Environments: .env.local

 âœ“ Starting...
 âœ“ Ready in 2.8s
 â—‹ Compiling /api/auth/[...nextauth] ...
 âœ“ Compiled /api/auth/[...nextauth] in 1153ms
 â—‹ Compiling /open-chat ...
 GET /api/auth/session 200 in 2859ms
 âœ“ Compiled /open-chat in 2.3s
 GET /open-chat 200 in 2496ms
 GET /api/auth/session 200 in 196ms
 â—‹ Compiling /favicon.ico ...
ğŸ“ socket.ts: .env.local íŒŒì¼ì„ ì°¾ì•˜ìŠµë‹ˆë‹¤.
âœ… socket.ts: .env.local íŒŒì¼ì—ì„œ ì„¤ì •ì„ ë¡œë“œí–ˆìŠµë‹ˆë‹¤.
socket.ts - API Key source: .env.local íŒŒì¼
socket.ts - API Key check: sk-proj...svYA
Initializing socket server...
Socket.IO server initialized
 GET /api/socket 304 in 204ms
New client connected: EOPSelFWeVg9ftO3AAAB
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: {}
 GET /favicon.ico?favicon.45db1c09.ico 200 in 1074ms
 âœ“ Compiled /favicon.ico in 1160ms
 GET /api/npc/list 200 in 1285ms
 GET /api/rooms 304 in 636ms
 â—‹ Compiling /chat ...
 âœ“ Compiled /chat in 652ms
 GET /chat?id=23 200 in 693ms
Client disconnected: EOPSelFWeVg9ftO3AAAB
Socket server already running
 GET /api/socket 304 in 231ms
New client connected: W2hQYBZHatLSitxkAAAD
User User_9217 joined room 23
Getting active users for room: 23
 â—‹ Compiling /api/npc/get ...
 âœ“ Compiled /api/npc/get in 815ms
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 866ms
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 46ms
ğŸ” Fetching NPC details for ID: kant
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
âœ… Got NPC details from backend: Immanuel Kant
 GET /api/npc/get?id=kant 200 in 63ms
ğŸ” Fetching NPC details for ID: marx
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=marx
ğŸ” Fetching NPC details for ID: kant
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
âœ… Got NPC details from backend: Karl Marx
 GET /api/npc/get?id=marx 200 in 39ms
âœ… Got NPC details from backend: Immanuel Kant
 GET /api/npc/get?id=kant 200 in 60ms
ğŸ” Fetching NPC details for ID: marx
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=marx
âœ… Got NPC details from backend: Karl Marx
 GET /api/npc/get?id=marx 200 in 38ms
 GET /chat?id=23 200 in 122ms
Client disconnected: W2hQYBZHatLSitxkAAAD
 GET /favicon.ico?favicon.45db1c09.ico 200 in 104ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: { id: '23' }
ID 23ë¡œ ì±„íŒ…ë£¸ ê²€ìƒ‰ ì¤‘
 GET /api/auth/session 200 in 67ms
ê²€ìƒ‰ ê²°ê³¼: ì°¾ìŒ
ì±„íŒ…ë£¸ 23 ì •ë³´: {
  title: 'ë‚˜ëŠ” ì™œì´ë ‡ê²Œ ì²´ë ¥ì´ ì•½í• ê¹Œ',
  messagesCount: 10,
  lastMessageFrom: 'kant'
}
 GET /api/rooms?id=23 304 in 405ms
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 54ms
ğŸ” Fetching NPC details for ID: kant
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
âœ… Got NPC details from backend: Immanuel Kant
 GET /api/npc/get?id=kant 200 in 40ms
ğŸ” Fetching NPC details for ID: marx
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=marx
âœ… Got NPC details from backend: Karl Marx
 GET /api/npc/get?id=marx 200 in 17ms
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 31ms
Socket server already running
 GET /api/socket 304 in 14ms
New client connected: 7zUMyeVFI3-BWIgNAAAF
User User_9217 joined room 23
Getting active users for room: 23
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 53ms
ğŸ” Fetching NPC details for ID: kant
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
âœ… Got NPC details from backend: Immanuel Kant
 GET /api/npc/get?id=kant 200 in 99ms
ğŸ” Fetching NPC details for ID: marx
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=marx
âœ… Got NPC details from backend: Karl Marx
 GET /api/npc/get?id=marx 200 in 177ms
ğŸ” Fetching NPC details for ID: kant
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
âœ… Got NPC details from backend: Immanuel Kant
 GET /api/npc/get?id=kant 200 in 208ms
ğŸ” Fetching NPC details for ID: marx
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=marx
âœ… Got NPC details from backend: Karl Marx
 GET /api/npc/get?id=marx 200 in 44ms
 âœ“ Compiled in 565ms
User User_9217 left room 23
 âš  Found a change in next.config.ts. Restarting the server to apply the changes...
   â–² Next.js 15.2.4 (Turbopack)
   - Local:        http://localhost:3000
   - Network:      http://0.0.0.0:3000
   - Environments: .env.local

 âœ“ Starting...
 âœ“ Ready in 1575ms
 â—‹ Compiling /_not-found/page ...
 âœ“ Compiled /_not-found/page in 1803ms
 GET /api/socket/io?EIO=4&transport=polling&t=x9mbb03i 404 in 2060ms
 GET /api/socket/io?EIO=4&transport=polling&t=x9qbm81w 404 in 100ms
 GET /api/socket/io?EIO=4&transport=polling&t=x9st0w6j 404 in 69ms
 GET /api/socket/io?EIO=4&transport=polling&t=x9x4z6um 404 in 67ms
 GET /api/socket/io?EIO=4&transport=polling&t=xa4x4lj7 404 in 70ms
 GET /api/socket/io?EIO=4&transport=polling&t=xacprezr 404 in 57ms
 GET /api/socket/io?EIO=4&transport=polling&t=xakhogxf 404 in 65ms
 GET /api/socket/io?EIO=4&transport=polling&t=xas9wdnt 404 in 56ms
 GET /api/socket/io?EIO=4&transport=polling&t=xb01pn59 404 in 61ms
 GET /api/socket/io?EIO=4&transport=polling&t=xb7to0g1 404 in 59ms
 â—‹ Compiling /api/auth/[...nextauth] ...
 âœ“ Compiled /api/auth/[...nextauth] in 2.7s
 GET /api/auth/session 200 in 6072ms
 GET /api/auth/session 200 in 473ms
 â—‹ Compiling /open-chat ...
 âœ“ Compiled /open-chat in 2.2s
 GET /open-chat 200 in 2402ms
 GET /open-chat 200 in 352ms
 GET /api/auth/session 200 in 191ms
 â—‹ Compiling /favicon.ico ...
ğŸ“ socket.ts: .env.local íŒŒì¼ì„ ì°¾ì•˜ìŠµë‹ˆë‹¤.
âœ… socket.ts: .env.local íŒŒì¼ì—ì„œ ì„¤ì •ì„ ë¡œë“œí–ˆìŠµë‹ˆë‹¤.
socket.ts - API Key source: .env.local íŒŒì¼
socket.ts - API Key check: sk-proj...svYA
Initializing socket server...
Socket.IO server initialized
 GET /api/socket 304 in 255ms
New client connected: 8ias1L7nPP5RfevoAAAB
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: {}
 GET /api/rooms 304 in 258ms
 GET /favicon.ico?favicon.45db1c09.ico 200 in 1280ms
 âœ“ Compiled /favicon.ico in 1292ms
 GET /api/npc/list 200 in 1298ms
 â—‹ Compiling /chat ...
 âœ“ Compiled /chat in 711ms
 GET /chat?id=23 200 in 746ms
Client disconnected: 8ias1L7nPP5RfevoAAAB
Socket server already running
 GET /api/socket 304 in 25ms
New client connected: _19BLo3Wmq3A5ObgAAAD
User User_9217 joined room 23
Getting active users for room: 23
 â—‹ Compiling /api/npc/get ...
 âœ“ Compiled /api/npc/get in 922ms
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 1149ms
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Fetching NPC details for ID: kant
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 79ms
âœ… Got NPC details from backend: Immanuel Kant
 GET /api/npc/get?id=kant 200 in 107ms
ğŸ” Fetching NPC details for ID: marx
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=marx
ğŸ” Fetching NPC details for ID: kant
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
âœ… Got NPC details from backend: Karl Marx
 GET /api/npc/get?id=marx 200 in 99ms
âœ… Got NPC details from backend: Immanuel Kant
 GET /api/npc/get?id=kant 200 in 130ms
ğŸ” Fetching NPC details for ID: marx
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=marx
âœ… Got NPC details from backend: Karl Marx
 GET /api/npc/get?id=marx 200 in 32ms
Client disconnected: _19BLo3Wmq3A5ObgAAAD
 GET /chat?id=23 200 in 138ms
 GET /favicon.ico?favicon.45db1c09.ico 200 in 70ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: { id: '23' }
ID 23ë¡œ ì±„íŒ…ë£¸ ê²€ìƒ‰ ì¤‘
 GET /api/auth/session 200 in 61ms
ê²€ìƒ‰ ê²°ê³¼: ì°¾ìŒ
ì±„íŒ…ë£¸ 23 ì •ë³´: {
  title: 'ë‚˜ëŠ” ì™œì´ë ‡ê²Œ ì²´ë ¥ì´ ì•½í• ê¹Œ',
  messagesCount: 10,
  lastMessageFrom: 'kant'
}
 GET /api/rooms?id=23 304 in 55ms
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 23ms
ğŸ” Fetching NPC details for ID: kant
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
âœ… Got NPC details from backend: Immanuel Kant
 GET /api/npc/get?id=kant 200 in 186ms
ğŸ” Fetching NPC details for ID: marx
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=marx
âœ… Got NPC details from backend: Karl Marx
 GET /api/npc/get?id=marx 200 in 87ms
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 131ms
Socket server already running
 GET /api/socket 304 in 65ms
New client connected: h_QqWk--evnx_u6eAAAF
User User_9217 joined room 23
Getting active users for room: 23
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 80ms
ğŸ” Fetching NPC details for ID: kant
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
âœ… Got NPC details from backend: Immanuel Kant
 GET /api/npc/get?id=kant 200 in 85ms
ğŸ” Fetching NPC details for ID: marx
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=marx
ğŸ” Fetching NPC details for ID: kant
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
âœ… Got NPC details from backend: Karl Marx
 GET /api/npc/get?id=marx 200 in 45ms
âœ… Got NPC details from backend: Immanuel Kant
 GET /api/npc/get?id=kant 200 in 49ms
ğŸ” Fetching NPC details for ID: marx
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=marx
âœ… Got NPC details from backend: Karl Marx
 GET /api/npc/get?id=marx 200 in 186ms
 âœ“ Compiled in 790ms
 âœ“ Compiled in 616ms
User User_9217 left room 23
 âœ“ Compiled in 790ms
 âš  Fast Refresh had to perform a full reload due to a runtime error.
Socket server already running
 GET /api/socket 304 in 102ms
Client disconnected: h_QqWk--evnx_u6eAAAF
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
 GET /api/auth/session 200 in 280ms
New client connected: UOiTiY9bU4kBgmseAAAH
User User_9217 joined room 23
Getting active users for room: 23
User User_9217 joined room 23
Getting active users for room: 23
 GET /chat?id=23 200 in 755ms
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 737ms
Client disconnected: UOiTiY9bU4kBgmseAAAH
 GET /api/npc/get?id=kant 200 in 62ms
ğŸ” Fetching NPC details for ID: kant
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
âœ… Got NPC details from backend: Immanuel Kant
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: { id: '23' }
ID 23ë¡œ ì±„íŒ…ë£¸ ê²€ìƒ‰ ì¤‘
 GET /api/auth/session 200 in 112ms
 GET /favicon.ico?favicon.45db1c09.ico 200 in 93ms
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
ê²€ìƒ‰ ê²°ê³¼: ì°¾ìŒ
ì±„íŒ…ë£¸ 23 ì •ë³´: {
  title: 'ë‚˜ëŠ” ì™œì´ë ‡ê²Œ ì²´ë ¥ì´ ì•½í• ê¹Œ',
  messagesCount: 10,
  lastMessageFrom: 'kant'
}
 GET /api/rooms?id=23 304 in 691ms
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 29ms
ğŸ” Fetching NPC details for ID: kant
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
âœ… Got NPC details from backend: Immanuel Kant
 GET /api/npc/get?id=kant 200 in 24ms
ğŸ” Fetching NPC details for ID: marx
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=marx
âœ… Got NPC details from backend: Karl Marx
 GET /api/npc/get?id=marx 200 in 19ms
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 22ms
Socket server already running
 GET /api/socket 304 in 17ms
New client connected: ZWO85oWL2rOiZLK6AAAJ
User User_9217 joined room 23
Getting active users for room: 23
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Fetching NPC details for ID: kant
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
âœ… Got NPC details from backend: Immanuel Kant
 GET /api/npc/get?id=kant 200 in 34ms
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 39ms
ğŸ” Fetching NPC details for ID: kant
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
âœ… Got NPC details from backend: Immanuel Kant
 GET /api/npc/get?id=kant 200 in 28ms
ğŸ” Fetching NPC details for ID: marx
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=marx
âœ… Got NPC details from backend: Karl Marx
 GET /api/npc/get?id=marx 200 in 32ms
ğŸ” Fetching NPC details for ID: marx
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=marx
âœ… Got NPC details from backend: Karl Marx
 GET /api/npc/get?id=marx 200 in 25ms
 GET /api/auth/session 200 in 766ms
 GET /open-chat 200 in 1252ms
User User_9217 left room 23
Socket server already running
 GET /api/socket 304 in 133ms
New client connected: Xdb2aq0V3lk12xEOAAAL
Socket server already running
 GET /api/socket 304 in 112ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: {}
New client connected: qOApO8syAombR0P4AAAN
 GET /api/npc/list 200 in 887ms
 GET /api/rooms 304 in 296ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: {}
 GET /api/rooms 304 in 36ms
 GET /api/npc/list 200 in 67ms
 GET /chat?id=23 200 in 52ms
Client disconnected: qOApO8syAombR0P4AAAN
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 257ms
Socket server already running
 GET /api/socket 304 in 32ms
Client disconnected: ZWO85oWL2rOiZLK6AAAJ
New client connected: wdXFbKI4y1INFpR_AAAP
User User_9217 joined room 23
Getting active users for room: 23
User User_9217 joined room 23
Getting active users for room: 23
ğŸ” Fetching NPC details for ID: kant
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 84ms
âœ… Got NPC details from backend: Immanuel Kant
 GET /api/npc/get?id=kant 200 in 89ms
ğŸ” Fetching NPC details for ID: kant
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
âœ… Got NPC details from backend: Immanuel Kant
 GET /api/npc/get?id=kant 200 in 59ms
ğŸ” Fetching NPC details for ID: marx
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=marx
âœ… Got NPC details from backend: Karl Marx
 GET /api/npc/get?id=marx 200 in 66ms
ğŸ” Fetching NPC details for ID: marx
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=marx
âœ… Got NPC details from backend: Karl Marx
 GET /api/npc/get?id=marx 200 in 19ms
 âš  Found a change in next.config.ts. Restarting the server to apply the changes...
   â–² Next.js 15.2.4 (Turbopack)
   - Local:        http://localhost:3000
   - Network:      http://0.0.0.0:3000
   - Environments: .env.local

 âœ“ Starting...
 âœ“ Ready in 3.6s
 â—‹ Compiling /_not-found/page ...
 âœ“ Compiled /_not-found/page in 2.9s
 GET /api/socket/io?EIO=4&transport=polling&t=c4kuyi3o 404 in 3188ms
 GET /api/socket/io?EIO=4&transport=polling&t=c4skjhmg 404 in 83ms
 GET /api/socket/io?EIO=4&transport=polling&t=c4x7j792 404 in 367ms
 â—‹ Compiling /api/auth/[...nextauth] ...
ğŸ“ socket.ts: .env.local íŒŒì¼ì„ ì°¾ì•˜ìŠµë‹ˆë‹¤.
âœ… socket.ts: .env.local íŒŒì¼ì—ì„œ ì„¤ì •ì„ ë¡œë“œí–ˆìŠµë‹ˆë‹¤.
socket.ts - API Key source: .env.local íŒŒì¼
socket.ts - API Key check: sk-proj...svYA
Initializing socket server...
Socket.IO server initialized
 GET /api/socket 304 in 1664ms
Socket server already running
 GET /api/socket 304 in 324ms
New client connected: E7enYdffDIO-XIGdAAAB
 GET /api/socket/io?EIO=4&transport=polling&t=c520zkqj 404 in 504ms
New client connected: o0OmFjqlxJSilzVYAAAD
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: {}
 GET /api/npc/list 200 in 3271ms
 GET /api/rooms 304 in 1134ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: {}
 GET /api/rooms 304 in 56ms
 GET /api/npc/list 200 in 81ms
 âœ“ Compiled /api/auth/[...nextauth] in 7.2s
 GET /open-chat 200 in 1652ms
Client disconnected: E7enYdffDIO-XIGdAAAB
Client disconnected: o0OmFjqlxJSilzVYAAAD
 GET /api/auth/session 200 in 7487ms
 POST /api/auth/_log 200 in 31ms
Socket server already running
 GET /api/socket 304 in 41ms
New client connected: vaBx8pUYoW7vLH89AAAF
 GET /api/auth/session 200 in 135ms
 GET /api/npc/list 200 in 229ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: {}
 GET /api/rooms 304 in 63ms
 â—‹ Compiling /favicon.ico ...
 âœ“ Compiled /favicon.ico in 843ms
 GET /favicon.ico?favicon.45db1c09.ico 200 in 879ms
 â—‹ Compiling /chat ...
 âœ“ Compiled /chat in 760ms
 GET /chat?id=23 200 in 810ms
Client disconnected: vaBx8pUYoW7vLH89AAAF
Socket server already running
 GET /api/socket 304 in 19ms
New client connected: 9vWwNIyTGWm04Vl6AAAH
User User_9217 joined room 23
Getting active users for room: 23
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: { id: '23' }
ID 23ë¡œ ì±„íŒ…ë£¸ ê²€ìƒ‰ ì¤‘
ê²€ìƒ‰ ê²°ê³¼: ì°¾ìŒ
ì±„íŒ…ë£¸ 23 ì •ë³´: {
  title: 'ë‚˜ëŠ” ì™œì´ë ‡ê²Œ ì²´ë ¥ì´ ì•½í• ê¹Œ',
  messagesCount: 10,
  lastMessageFrom: 'kant'
}
 GET /api/rooms?id=23 304 in 202ms
 â—‹ Compiling /api/npc/get ...
 âœ“ Compiled /api/npc/get in 734ms
ğŸ” Fetching NPC details for ID: marx
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=marx
ğŸ” Fetching NPC details for ID: kant
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 794ms
âœ… Got NPC details from backend: Karl Marx
 GET /api/npc/get?id=marx 200 in 317ms
âœ… Got NPC details from backend: Immanuel Kant
 GET /api/npc/get?id=kant 200 in 319ms
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 27ms
ğŸ” Fetching NPC details for ID: kant
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
âœ… Got NPC details from backend: Immanuel Kant
 GET /api/npc/get?id=kant 200 in 30ms
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Fetching NPC details for ID: kant
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 29ms
âœ… Got NPC details from backend: Immanuel Kant
 GET /api/npc/get?id=kant 200 in 26ms
ğŸ” Fetching NPC details for ID: marx
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=marx
âœ… Got NPC details from backend: Karl Marx
 GET /api/npc/get?id=marx 200 in 33ms
ğŸ” Fetching NPC details for ID: marx
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=marx
âœ… Got NPC details from backend: Karl Marx
 GET /api/npc/get?id=marx 200 in 43ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: { id: '23' }
ID 23ë¡œ ì±„íŒ…ë£¸ ê²€ìƒ‰ ì¤‘
ê²€ìƒ‰ ê²°ê³¼: ì°¾ìŒ
ì±„íŒ…ë£¸ 23 ì •ë³´: {
  title: 'ë‚˜ëŠ” ì™œì´ë ‡ê²Œ ì²´ë ¥ì´ ì•½í• ê¹Œ',
  messagesCount: 10,
  lastMessageFrom: 'kant'
}
 GET /api/rooms?id=23 200 in 16ms
PUT ìš”ì²­ ì²˜ë¦¬ - ì±„íŒ…ë£¸ ì—…ë°ì´íŠ¸
ë£¸ ì—…ë°ì´íŠ¸ ìš”ì²­: ID 23
Updating room 23 with: {
  message: {
    id: 'auto-9cb1399c',
    text: "Indeed, as others have highlighted the importance of individual habits and self-awareness, we must not overlook the broader socio-economic environment. Under capitalism, the systemic pressure to maximize productivity often leads to neglect of physical health. It's crucial to recognize how these external pressures shape your personal conditions and health outcomes.",
    sender: 'marx',
    senderName: 'Karl Marx',
    senderType: 'npc',
    isUser: false,
    timestamp: '2025-05-03T16:46:11.876528',
    portrait_url: 'http://localhost:8000/portraits/Marx.png',
    npc_id: 'marx'
  }
}
ìƒˆ ë©”ì‹œì§€ ì¶”ê°€: marxì˜ ë©”ì‹œì§€, ID: auto-9cb1399c
ğŸ“‹ ë©”ì‹œì§€ ì „ì²´ ë°ì´í„°: {
  "id": "auto-9cb1399c",
  "text": "Indeed, as others have highlighted the importance of individual habits and self-awareness, we must not overlook the broader socio-economic environment. Under capitalism, the systemic pressure to maximize productivity often leads to neglect of physical health. It's crucial to recognize how these external pressures shape your personal conditions and health outcomes.",
  "sender": "marx",
  "senderName": "Karl Marx",
  "senderType": "npc",
  "isUser": false,
  "timestamp": "2025-05-03T16:46:11.876528",
  "portrait_url": "http://localhost:8000/portraits/Marx.png",
  "npc_id": "marx"
}
ë£¸ 23ì— marxì˜ ìƒˆ ë©”ì‹œì§€ ì¶”ê°€ë¨
Broadcasting message-added event
ğŸ”„ Socket.IO ë¸Œë¡œë“œìºìŠ¤íŠ¸ ë°ì´í„°: {
  "roomId": "23",
  "message": {
    "id": "auto-9cb1399c",
    "text": "Indeed, as others have highlighted the importance of individual habits and self-awareness, we must not overlook the broader socio-economic environment. Under capitalism, the systemic pressure to maximize productivity often leads to neglect of physical health. It's crucial to recognize how these external pressures shape your personal conditions and health outcomes.",
    "sender": "marx",
    "senderName": "Karl Marx",
    "senderType": "npc",
    "isUser": false,
    "timestamp": "2025-05-03T16:46:11.876528",
    "portrait_url": "http://localhost:8000/portraits/Marx.png",
    "npc_id": "marx"
  }
}
âœ… ë¸Œë¡œë“œìºìŠ¤íŠ¸ ì™„ë£Œ - ë°© ID: 23, ë©”ì‹œì§€ ID: auto-9cb1399c
 PUT /api/rooms?id=23 200 in 59ms
Socket API POST ìš”ì²­ ë°›ìŒ: {
  action: 'broadcast',
  room: '23',
  event: 'new-message',
  data: {
    roomId: '23',
    message: {
      id: 'auto-9cb1399c',
      text: "Indeed, as others have highlighted the importance of individual habits and self-awareness, we must not overlook the broader socio-economic environment. Under capitalism, the systemic pressure to maximize productivity often leads to neglect of physical health. It's crucial to recognize how these external pressures shape your personal conditions and health outcomes.",
      sender: 'marx',
      senderName: 'Karl Marx',
      senderType: 'npc',
      isUser: false,
      timestamp: '2025-05-03T16:46:11.876528',
      portrait_url: 'http://localhost:8000/portraits/Marx.png',
      npc_id: 'marx'
    }
  }
}
ğŸ“¢ ë¸Œë¡œë“œìºìŠ¤íŠ¸ ìš”ì²­ - ë°©: 23, ì´ë²¤íŠ¸: new-message
âœ… ë¸Œë¡œë“œìºìŠ¤íŠ¸ ì™„ë£Œ - 23 ë°©ì˜ ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ì—ê²Œ new-message ì´ë²¤íŠ¸ ì „ì†¡ë¨
 POST /api/socket 200 in 13ms
ğŸ” Fetching NPC details for ID: marx
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=marx
âœ… Got NPC details from backend: Karl Marx
 GET /api/npc/get?id=marx 200 in 32ms
ğŸ” Fetching NPC details for ID: marx
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=marx
âœ… Got NPC details from backend: Karl Marx
 GET /api/npc/get?id=marx 200 in 28ms
 âœ“ Compiled in 942ms
User User_9217 left room 23
Socket server already running
 GET /api/socket 304 in 40ms
Client disconnected: 9vWwNIyTGWm04Vl6AAAH
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
New client connected: Cj0Sx2rP-0EL1TMoAAAJ
User User_9217 joined room 23
Getting active users for room: 23
User User_9217 joined room 23
Getting active users for room: 23
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 201ms
ğŸ” Fetching NPC details for ID: kant
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
âœ… Got NPC details from backend: Immanuel Kant
 GET /api/npc/get?id=kant 200 in 64ms
ğŸ” Fetching NPC details for ID: marx
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=marx
âœ… Got NPC details from backend: Karl Marx
 GET /api/npc/get?id=marx 200 in 21ms
 âœ“ Compiled in 3.6s
User User_9217 left room 23
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
Socket server already running
 GET /api/socket 304 in 135ms
Client disconnected: Cj0Sx2rP-0EL1TMoAAAJ
New client connected: uwDi5D13xf43pPqqAAAL
User User_9217 joined room 23
Getting active users for room: 23
User User_9217 joined room 23
Getting active users for room: 23
User User_9217 joined room 23
Getting active users for room: 23
 âš  Found a change in next.config.ts. Restarting the server to apply the changes...
   â–² Next.js 15.2.4 (Turbopack)
   - Local:        http://localhost:3000
   - Network:      http://0.0.0.0:3000
   - Environments: .env.local

 âœ“ Starting...
 âœ“ Ready in 1936ms
 âœ“ Compiled /api/rooms in 139ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: { id: '23' }
ID 23ë¡œ ì±„íŒ…ë£¸ ê²€ìƒ‰ ì¤‘
ê²€ìƒ‰ ê²°ê³¼: ì°¾ìŒ
ì±„íŒ…ë£¸ 23 ì •ë³´: {
  title: 'ë‚˜ëŠ” ì™œì´ë ‡ê²Œ ì²´ë ¥ì´ ì•½í• ê¹Œ',
  messagesCount: 11,
  lastMessageFrom: 'marx'
}
 GET /api/rooms?id=23 200 in 721ms
 â—‹ Compiling /_not-found/page ...
ğŸ” Fetching NPC details for ID: marx
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=marx
ğŸ” Fetching NPC details for ID: kant
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: not set
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 1318ms
 âœ“ Compiled /_not-found/page in 2.6s
 GET /api/socket/io?EIO=4&transport=polling&t=cd36w3bd 404 in 2763ms
âœ… Got NPC details from backend: Karl Marx
 GET /api/npc/get?id=marx 200 in 9615ms
âœ… Got NPC details from backend: Immanuel Kant
 GET /api/npc/get?id=kant 200 in 9633ms
 GET /api/socket/io?EIO=4&transport=polling&t=cdcgbc0r 404 in 126ms
 GET /api/socket/io?EIO=4&transport=polling&t=cdkxszmp 404 in 62ms
 GET /api/socket/io?EIO=4&transport=polling&t=cdtfciuc 404 in 93ms
 GET /api/socket/io?EIO=4&transport=polling&t=ce1ww7ca 404 in 65ms
 GET /api/socket/io?EIO=4&transport=polling&t=ceaeecls 404 in 708ms
 GET /api/socket/io?EIO=4&transport=polling&t=ceivzgqk 404 in 311ms
 GET /api/socket/io?EIO=4&transport=polling&t=cerdjf6d 404 in 72ms
 â—‹ Compiling /api/auth/[...nextauth] ...
 âœ“ Compiled /api/auth/[...nextauth] in 3.3s
ğŸ“ socket.ts: .env.local íŒŒì¼ì„ ì°¾ì•˜ìŠµë‹ˆë‹¤.
âœ… socket.ts: .env.local íŒŒì¼ì—ì„œ ì„¤ì •ì„ ë¡œë“œí–ˆìŠµë‹ˆë‹¤.
socket.ts - API Key source: .env.local íŒŒì¼
socket.ts - API Key check: sk-proj...svYA
Initializing socket server...
Socket.IO server initialized
 GET /api/socket 304 in 293ms
New client connected: nanB0MOgN15jAyHrAAAB
 â—‹ Compiling /api/socket ...
Socket server already running
 GET /api/socket 304 in 17ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: {}
New client connected: mQOvYelU0oCxKNkmAAAD
 âœ“ Compiled /api/socket in 1008ms
 GET /api/auth/session 200 in 5120ms
 GET /api/npc/list 200 in 1384ms
 GET /api/rooms 304 in 827ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: {}
 GET /api/npc/list 200 in 35ms
 GET /api/rooms 304 in 43ms
 â—‹ Compiling /open-chat ...
 âœ“ Compiled /open-chat in 844ms
 GET /open-chat 200 in 945ms
Client disconnected: nanB0MOgN15jAyHrAAAB
Client disconnected: mQOvYelU0oCxKNkmAAAD
 GET /api/auth/session 200 in 100ms
 GET /api/npc/list 200 in 168ms
Socket server already running
 GET /api/socket 304 in 128ms
New client connected: tUSNEYlGlytD2AwQAAAF
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: {}
 GET /api/rooms 304 in 109ms
 â—‹ Compiling /favicon.ico ...
 âœ“ Compiled /favicon.ico in 629ms
 GET /favicon.ico?favicon.45db1c09.ico 200 in 664ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: {}
 GET /api/rooms 304 in 120ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: {}
 GET /api/rooms 304 in 41ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: {}
 GET /api/rooms 304 in 1152ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: {}
 GET /api/rooms 304 in 1268ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: {}
 GET /api/rooms 304 in 427ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: {}
 GET /api/rooms 304 in 109ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: {}
 GET /api/rooms 304 in 205ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: {}
 GET /api/rooms 304 in 205ms
 GET /api/auth/session 200 in 328ms
 GET /api/auth/session 200 in 650ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: {}
 GET /api/rooms 304 in 471ms
 â—‹ Compiling /chat ...
 âœ“ Compiled /chat in 1878ms
 GET /chat?id=23 200 in 2005ms
Client disconnected: tUSNEYlGlytD2AwQAAAF
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
Socket server already running
 GET /api/socket 304 in 21ms
New client connected: RK1BcIvWCxLfwIJdAAAH
User User_9217 joined room 23
Getting active users for room: 23
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: { id: '23' }
ID 23ë¡œ ì±„íŒ…ë£¸ ê²€ìƒ‰ ì¤‘
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: not set
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 484ms
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: not set
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 35ms
ğŸ” Fetching NPC details for ID: kant
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
âœ… Got NPC details from backend: Immanuel Kant
 GET /api/npc/get?id=kant 200 in 88ms
ê²€ìƒ‰ ê²°ê³¼: ì°¾ìŒ
ì±„íŒ…ë£¸ 23 ì •ë³´: {
  title: 'ë‚˜ëŠ” ì™œì´ë ‡ê²Œ ì²´ë ¥ì´ ì•½í• ê¹Œ',
  messagesCount: 11,
  lastMessageFrom: 'marx'
}
 GET /api/rooms?id=23 304 in 210ms
ğŸ” Fetching NPC details for ID: kant
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
ğŸ” Fetching NPC details for ID: marx
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=marx
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: not set
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 40ms
âœ… Got NPC details from backend: Immanuel Kant
 GET /api/npc/get?id=kant 200 in 59ms
âœ… Got NPC details from backend: Karl Marx
 GET /api/npc/get?id=marx 200 in 58ms
ğŸ” Fetching NPC details for ID: marx
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=marx
ğŸ” Fetching NPC details for ID: kant
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
âœ… Got NPC details from backend: Karl Marx
 GET /api/npc/get?id=marx 200 in 31ms
âœ… Got NPC details from backend: Immanuel Kant
 GET /api/npc/get?id=kant 200 in 34ms
ğŸ” Fetching NPC details for ID: marx
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=marx
âœ… Got NPC details from backend: Karl Marx
 GET /api/npc/get?id=marx 200 in 88ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: { id: '23' }
ID 23ë¡œ ì±„íŒ…ë£¸ ê²€ìƒ‰ ì¤‘
ê²€ìƒ‰ ê²°ê³¼: ì°¾ìŒ
ì±„íŒ…ë£¸ 23 ì •ë³´: {
  title: 'ë‚˜ëŠ” ì™œì´ë ‡ê²Œ ì²´ë ¥ì´ ì•½í• ê¹Œ',
  messagesCount: 11,
  lastMessageFrom: 'marx'
}
 GET /api/rooms?id=23 200 in 19ms
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: not set
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 132ms
PUT ìš”ì²­ ì²˜ë¦¬ - ì±„íŒ…ë£¸ ì—…ë°ì´íŠ¸
ë£¸ ì—…ë°ì´íŠ¸ ìš”ì²­: ID 23
Updating room 23 with: {
  message: {
    id: 'auto-9eaa5acc',
    text: 'Indeed, the discussions here weave a rich tapestry concerning the causes of physical weakness. While Marx and Kant emphasize socioeconomic structures and moral duty respectively, let us delve deeper into the personal cultivation of habits. Reflect upon whether the activities you engage in daily are truly conducive to building strength, both mental and physical. This self-examination might unveil a path to a more harmonious state of being.',
    sender: 'e0c3872b-2103-4d04-8a2d-801bbd7f43cf',
    senderName: 'Modern Socrates',
    senderType: 'npc',
    isUser: false,
    timestamp: '2025-05-03T17:03:47.210080',
    portrait_url: 'http://localhost:8000/portraits/modern-socrates_1745532994.png',
    npc_id: 'e0c3872b-2103-4d04-8a2d-801bbd7f43cf'
  }
}
ìƒˆ ë©”ì‹œì§€ ì¶”ê°€: e0c3872b-2103-4d04-8a2d-801bbd7f43cfì˜ ë©”ì‹œì§€, ID: auto-9eaa5acc
ğŸ“‹ ë©”ì‹œì§€ ì „ì²´ ë°ì´í„°: {
  "id": "auto-9eaa5acc",
  "text": "Indeed, the discussions here weave a rich tapestry concerning the causes of physical weakness. While Marx and Kant emphasize socioeconomic structures and moral duty respectively, let us delve deeper into the personal cultivation of habits. Reflect upon whether the activities you engage in daily are truly conducive to building strength, both mental and physical. This self-examination might unveil a path to a more harmonious state of being.",
  "sender": "e0c3872b-2103-4d04-8a2d-801bbd7f43cf",
  "senderName": "Modern Socrates",
  "senderType": "npc",
  "isUser": false,
  "timestamp": "2025-05-03T17:03:47.210080",
  "portrait_url": "http://localhost:8000/portraits/modern-socrates_1745532994.png",
  "npc_id": "e0c3872b-2103-4d04-8a2d-801bbd7f43cf"
}
ë£¸ 23ì— e0c3872b-2103-4d04-8a2d-801bbd7f43cfì˜ ìƒˆ ë©”ì‹œì§€ ì¶”ê°€ë¨
Broadcasting message-added event
ğŸ”„ Socket.IO ë¸Œë¡œë“œìºìŠ¤íŠ¸ ë°ì´í„°: {
  "roomId": "23",
  "message": {
    "id": "auto-9eaa5acc",
    "text": "Indeed, the discussions here weave a rich tapestry concerning the causes of physical weakness. While Marx and Kant emphasize socioeconomic structures and moral duty respectively, let us delve deeper into the personal cultivation of habits. Reflect upon whether the activities you engage in daily are truly conducive to building strength, both mental and physical. This self-examination might unveil a path to a more harmonious state of being.",
    "sender": "e0c3872b-2103-4d04-8a2d-801bbd7f43cf",
    "senderName": "Modern Socrates",
    "senderType": "npc",
    "isUser": false,
    "timestamp": "2025-05-03T17:03:47.210080",
    "portrait_url": "http://localhost:8000/portraits/modern-socrates_1745532994.png",
    "npc_id": "e0c3872b-2103-4d04-8a2d-801bbd7f43cf"
  }
}
âœ… ë¸Œë¡œë“œìºìŠ¤íŠ¸ ì™„ë£Œ - ë°© ID: 23, ë©”ì‹œì§€ ID: auto-9eaa5acc
 PUT /api/rooms?id=23 200 in 132ms
Socket API POST ìš”ì²­ ë°›ìŒ: {
  action: 'broadcast',
  room: '23',
  event: 'new-message',
  data: {
    roomId: '23',
    message: {
      id: 'auto-9eaa5acc',
      text: 'Indeed, the discussions here weave a rich tapestry concerning the causes of physical weakness. While Marx and Kant emphasize socioeconomic structures and moral duty respectively, let us delve deeper into the personal cultivation of habits. Reflect upon whether the activities you engage in daily are truly conducive to building strength, both mental and physical. This self-examination might unveil a path to a more harmonious state of being.',
      sender: 'e0c3872b-2103-4d04-8a2d-801bbd7f43cf',
      senderName: 'Modern Socrates',
      senderType: 'npc',
      isUser: false,
      timestamp: '2025-05-03T17:03:47.210080',
      portrait_url: 'http://localhost:8000/portraits/modern-socrates_1745532994.png',
      npc_id: 'e0c3872b-2103-4d04-8a2d-801bbd7f43cf'
    }
  }
}
ğŸ“¢ ë¸Œë¡œë“œìºìŠ¤íŠ¸ ìš”ì²­ - ë°©: 23, ì´ë²¤íŠ¸: new-message
âœ… ë¸Œë¡œë“œìºìŠ¤íŠ¸ ì™„ë£Œ - 23 ë°©ì˜ ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ì—ê²Œ new-message ì´ë²¤íŠ¸ ì „ì†¡ë¨
 POST /api/socket 200 in 11ms
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: not set
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 26ms
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: not set
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 16ms
 GET /api/auth/session 200 in 1123ms
 âœ“ Compiled in 893ms
 GET /api/auth/session 200 in 452ms
 GET /api/auth/session 200 in 123ms
User User_9217 left room 23
Socket server already running
 GET /api/socket 304 in 17ms
New client connected: 1IkPGHbb9jrnjssEAAAJ
Socket server already running
 GET /api/socket 304 in 14ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: {}
New client connected: EaFLH3aAezSHlgNFAAAL
 GET /api/npc/list 200 in 129ms
 GET /api/rooms 304 in 53ms
 GET /api/npc/list 200 in 44ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: {}
 GET /api/rooms 304 in 38ms
 GET /chat?id=23 200 in 333ms
Client disconnected: EaFLH3aAezSHlgNFAAAL
Socket server already running
 GET /api/socket 304 in 34ms
Client disconnected: RK1BcIvWCxLfwIJdAAAH
New client connected: vkECEgsOqpeSNT2DAAAN
User User_9217 joined room 23
Getting active users for room: 23
User User_9217 joined room 23
Getting active users for room: 23
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: not set
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 178ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: { id: '23' }
ID 23ë¡œ ì±„íŒ…ë£¸ ê²€ìƒ‰ ì¤‘
ğŸ” Fetching NPC details for ID: kant
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
âœ… Got NPC details from backend: Immanuel Kant
 GET /api/npc/get?id=kant 200 in 50ms
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: not set
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 55ms
ê²€ìƒ‰ ê²°ê³¼: ì°¾ìŒ
ì±„íŒ…ë£¸ 23 ì •ë³´: {
  title: 'ë‚˜ëŠ” ì™œì´ë ‡ê²Œ ì²´ë ¥ì´ ì•½í• ê¹Œ',
  messagesCount: 12,
  lastMessageFrom: 'e0c3872b-2103-4d04-8a2d-801bbd7f43cf'
}
 GET /api/rooms?id=23 200 in 60ms
ğŸ” Fetching NPC details for ID: marx
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=marx
ğŸ” Fetching NPC details for ID: kant
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
âœ… Got NPC details from backend: Karl Marx
 GET /api/npc/get?id=marx 200 in 70ms
âœ… Got NPC details from backend: Immanuel Kant
 GET /api/npc/get?id=kant 200 in 77ms
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: not set
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 75ms
ğŸ” Fetching NPC details for ID: marx
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=marx
âœ… Got NPC details from backend: Karl Marx
 GET /api/npc/get?id=marx 200 in 76ms
ğŸ” Fetching NPC details for ID: kant
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
âœ… Got NPC details from backend: Immanuel Kant
 GET /api/npc/get?id=kant 200 in 62ms
ğŸ” Fetching NPC details for ID: marx
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=marx
âœ… Got NPC details from backend: Karl Marx
 GET /api/npc/get?id=marx 200 in 47ms
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: { id: '23' }
ID 23ë¡œ ì±„íŒ…ë£¸ ê²€ìƒ‰ ì¤‘
ê²€ìƒ‰ ê²°ê³¼: ì°¾ìŒ
ì±„íŒ…ë£¸ 23 ì •ë³´: {
  title: 'ë‚˜ëŠ” ì™œì´ë ‡ê²Œ ì²´ë ¥ì´ ì•½í• ê¹Œ',
  messagesCount: 12,
  lastMessageFrom: 'e0c3872b-2103-4d04-8a2d-801bbd7f43cf'
}
 GET /api/rooms?id=23 200 in 10ms
PUT ìš”ì²­ ì²˜ë¦¬ - ì±„íŒ…ë£¸ ì—…ë°ì´íŠ¸
ë£¸ ì—…ë°ì´íŠ¸ ìš”ì²­: ID 23
Updating room 23 with: {
  message: {
    id: 'auto-7d33e74b',
    text: "Indeed, the perspectives shared here offer valuable insights into the complexities of physical strength. Reflecting upon our daily habits, as suggested, is crucial. However, let us also engage in a Socratic questioning of what 'strength' truly means to us personally. Is it merely physical prowess, or does it also encompass resilience and adaptability in facing life's challenges? Such a dialogue with oneself may reveal deeper insights into what we truly value and how we might achieve it.",
    sender: 'e0c3872b-2103-4d04-8a2d-801bbd7f43cf',
    senderName: 'Modern Socrates',
    senderType: 'npc',
    isUser: false,
    timestamp: '2025-05-03T17:13:21.754122',
    portrait_url: 'http://localhost:8000/portraits/modern-socrates_1745532994.png',
    npc_id: 'e0c3872b-2103-4d04-8a2d-801bbd7f43cf'
  }
}
ìƒˆ ë©”ì‹œì§€ ì¶”ê°€: e0c3872b-2103-4d04-8a2d-801bbd7f43cfì˜ ë©”ì‹œì§€, ID: auto-7d33e74b
ğŸ“‹ ë©”ì‹œì§€ ì „ì²´ ë°ì´í„°: {
  "id": "auto-7d33e74b",
  "text": "Indeed, the perspectives shared here offer valuable insights into the complexities of physical strength. Reflecting upon our daily habits, as suggested, is crucial. However, let us also engage in a Socratic questioning of what 'strength' truly means to us personally. Is it merely physical prowess, or does it also encompass resilience and adaptability in facing life's challenges? Such a dialogue with oneself may reveal deeper insights into what we truly value and how we might achieve it.",
  "sender": "e0c3872b-2103-4d04-8a2d-801bbd7f43cf",
  "senderName": "Modern Socrates",
  "senderType": "npc",
  "isUser": false,
  "timestamp": "2025-05-03T17:13:21.754122",
  "portrait_url": "http://localhost:8000/portraits/modern-socrates_1745532994.png",
  "npc_id": "e0c3872b-2103-4d04-8a2d-801bbd7f43cf"
}
ë£¸ 23ì— e0c3872b-2103-4d04-8a2d-801bbd7f43cfì˜ ìƒˆ ë©”ì‹œì§€ ì¶”ê°€ë¨
Broadcasting message-added event
ğŸ”„ Socket.IO ë¸Œë¡œë“œìºìŠ¤íŠ¸ ë°ì´í„°: {
  "roomId": "23",
  "message": {
    "id": "auto-7d33e74b",
    "text": "Indeed, the perspectives shared here offer valuable insights into the complexities of physical strength. Reflecting upon our daily habits, as suggested, is crucial. However, let us also engage in a Socratic questioning of what 'strength' truly means to us personally. Is it merely physical prowess, or does it also encompass resilience and adaptability in facing life's challenges? Such a dialogue with oneself may reveal deeper insights into what we truly value and how we might achieve it.",
    "sender": "e0c3872b-2103-4d04-8a2d-801bbd7f43cf",
    "senderName": "Modern Socrates",
    "senderType": "npc",
    "isUser": false,
    "timestamp": "2025-05-03T17:13:21.754122",
    "portrait_url": "http://localhost:8000/portraits/modern-socrates_1745532994.png",
    "npc_id": "e0c3872b-2103-4d04-8a2d-801bbd7f43cf"
  }
}
âœ… ë¸Œë¡œë“œìºìŠ¤íŠ¸ ì™„ë£Œ - ë°© ID: 23, ë©”ì‹œì§€ ID: auto-7d33e74b
 PUT /api/rooms?id=23 200 in 83ms
Socket API POST ìš”ì²­ ë°›ìŒ: {
  action: 'broadcast',
  room: '23',
  event: 'new-message',
  data: {
    roomId: '23',
    message: {
      id: 'auto-7d33e74b',
      text: "Indeed, the perspectives shared here offer valuable insights into the complexities of physical strength. Reflecting upon our daily habits, as suggested, is crucial. However, let us also engage in a Socratic questioning of what 'strength' truly means to us personally. Is it merely physical prowess, or does it also encompass resilience and adaptability in facing life's challenges? Such a dialogue with oneself may reveal deeper insights into what we truly value and how we might achieve it.",
      sender: 'e0c3872b-2103-4d04-8a2d-801bbd7f43cf',
      senderName: 'Modern Socrates',
      senderType: 'npc',
      isUser: false,
      timestamp: '2025-05-03T17:13:21.754122',
      portrait_url: 'http://localhost:8000/portraits/modern-socrates_1745532994.png',
      npc_id: 'e0c3872b-2103-4d04-8a2d-801bbd7f43cf'
    }
  }
}
ğŸ“¢ ë¸Œë¡œë“œìºìŠ¤íŠ¸ ìš”ì²­ - ë°©: 23, ì´ë²¤íŠ¸: new-message
âœ… ë¸Œë¡œë“œìºìŠ¤íŠ¸ ì™„ë£Œ - 23 ë°©ì˜ ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ì—ê²Œ new-message ì´ë²¤íŠ¸ ì „ì†¡ë¨
 POST /api/socket 200 in 22ms
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: not set
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 37ms
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: not set
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 23ms
PUT ìš”ì²­ ì²˜ë¦¬ - ì±„íŒ…ë£¸ ì—…ë°ì´íŠ¸
ë£¸ ì—…ë°ì´íŠ¸ ìš”ì²­: ID 23
Updating room 23 with: {
  message: {
    id: 'auto-899dc3e3',
    text: 'Indeed, the discussion on physical weakness touches on many profound aspects. From a Kantian perspective, it is essential to consider whether your daily habits and choices are guided by the moral law within you. Reflect on whether you are fulfilling your duty to preserve and enhance your physical capacities, which is necessary not only for your own well-being but also as a moral obligation to yourself as a rational and autonomous being.',
    sender: 'kant',
    senderName: 'Immanuel Kant',
    senderType: 'npc',
    isUser: false,
    timestamp: '2025-05-03T17:13:42.932208',
    portrait_url: 'http://localhost:8000/portraits/Kant.png',
    npc_id: 'kant'
  }
}
ìƒˆ ë©”ì‹œì§€ ì¶”ê°€: kantì˜ ë©”ì‹œì§€, ID: auto-899dc3e3
ğŸ“‹ ë©”ì‹œì§€ ì „ì²´ ë°ì´í„°: {
  "id": "auto-899dc3e3",
  "text": "Indeed, the discussion on physical weakness touches on many profound aspects. From a Kantian perspective, it is essential to consider whether your daily habits and choices are guided by the moral law within you. Reflect on whether you are fulfilling your duty to preserve and enhance your physical capacities, which is necessary not only for your own well-being but also as a moral obligation to yourself as a rational and autonomous being.",
  "sender": "kant",
  "senderName": "Immanuel Kant",
  "senderType": "npc",
  "isUser": false,
  "timestamp": "2025-05-03T17:13:42.932208",
  "portrait_url": "http://localhost:8000/portraits/Kant.png",
  "npc_id": "kant"
}
ë£¸ 23ì— kantì˜ ìƒˆ ë©”ì‹œì§€ ì¶”ê°€ë¨
Broadcasting message-added event
ğŸ”„ Socket.IO ë¸Œë¡œë“œìºìŠ¤íŠ¸ ë°ì´í„°: {
  "roomId": "23",
  "message": {
    "id": "auto-899dc3e3",
    "text": "Indeed, the discussion on physical weakness touches on many profound aspects. From a Kantian perspective, it is essential to consider whether your daily habits and choices are guided by the moral law within you. Reflect on whether you are fulfilling your duty to preserve and enhance your physical capacities, which is necessary not only for your own well-being but also as a moral obligation to yourself as a rational and autonomous being.",
    "sender": "kant",
    "senderName": "Immanuel Kant",
    "senderType": "npc",
    "isUser": false,
    "timestamp": "2025-05-03T17:13:42.932208",
    "portrait_url": "http://localhost:8000/portraits/Kant.png",
    "npc_id": "kant"
  }
}
âœ… ë¸Œë¡œë“œìºìŠ¤íŠ¸ ì™„ë£Œ - ë°© ID: 23, ë©”ì‹œì§€ ID: auto-899dc3e3
 PUT /api/rooms?id=23 200 in 69ms
Socket API POST ìš”ì²­ ë°›ìŒ: {
  action: 'broadcast',
  room: '23',
  event: 'new-message',
  data: {
    roomId: '23',
    message: {
      id: 'auto-899dc3e3',
      text: 'Indeed, the discussion on physical weakness touches on many profound aspects. From a Kantian perspective, it is essential to consider whether your daily habits and choices are guided by the moral law within you. Reflect on whether you are fulfilling your duty to preserve and enhance your physical capacities, which is necessary not only for your own well-being but also as a moral obligation to yourself as a rational and autonomous being.',
      sender: 'kant',
      senderName: 'Immanuel Kant',
      senderType: 'npc',
      isUser: false,
      timestamp: '2025-05-03T17:13:42.932208',
      portrait_url: 'http://localhost:8000/portraits/Kant.png',
      npc_id: 'kant'
    }
  }
}
ğŸ“¢ ë¸Œë¡œë“œìºìŠ¤íŠ¸ ìš”ì²­ - ë°©: 23, ì´ë²¤íŠ¸: new-message
âœ… ë¸Œë¡œë“œìºìŠ¤íŠ¸ ì™„ë£Œ - 23 ë°©ì˜ ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ì—ê²Œ new-message ì´ë²¤íŠ¸ ì „ì†¡ë¨
 POST /api/socket 200 in 10ms
ğŸ” Fetching NPC details for ID: kant
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
âœ… Got NPC details from backend: Immanuel Kant
 GET /api/npc/get?id=kant 200 in 45ms
ğŸ” Fetching NPC details for ID: kant
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
âœ… Got NPC details from backend: Immanuel Kant
 GET /api/npc/get?id=kant 200 in 23ms
 GET /chat?id=23 200 in 720ms
Client disconnected: vkECEgsOqpeSNT2DAAAN
Client disconnected: 1IkPGHbb9jrnjssEAAAJ
GET ìš”ì²­ ì²˜ë¦¬ - ì¿¼ë¦¬: { id: '23' }
ID 23ë¡œ ì±„íŒ…ë£¸ ê²€ìƒ‰ ì¤‘
 GET /favicon.ico?favicon.45db1c09.ico 200 in 144ms
 GET /api/auth/session 200 in 105ms
ê²€ìƒ‰ ê²°ê³¼: ì°¾ìŒ
ì±„íŒ…ë£¸ 23 ì •ë³´: {
  title: 'ë‚˜ëŠ” ì™œì´ë ‡ê²Œ ì²´ë ¥ì´ ì•½í• ê¹Œ',
  messagesCount: 14,
  lastMessageFrom: 'kant'
}
 GET /api/rooms?id=23 200 in 517ms
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: not set
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 22ms
ğŸ” Fetching NPC details for ID: kant
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
âœ… Got NPC details from backend: Immanuel Kant
 GET /api/npc/get?id=kant 200 in 44ms
ğŸ” Fetching NPC details for ID: marx
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=marx
âœ… Got NPC details from backend: Karl Marx
 GET /api/npc/get?id=marx 200 in 57ms
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: not set
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 48ms
Socket server already running
 GET /api/socket 304 in 12ms
New client connected: Vcd7hDdhv_-4-FzCAAAP
User User_9217 joined room 23
Getting active users for room: 23
ğŸ” Fetching NPC details for ID: e0c3872b-2103-4d04-8a2d-801bbd7f43cf
ğŸ” Searching by backend_id (UUID): e0c3872b-2103-4d04-8a2d-801bbd7f43cf
âœ… Found custom NPC: Modern Socrates
   _id: 680ab82df57902e97ae4ef38, backend_id: not set
   portrait_url: http://localhost:8000/portraits/modern-socrates_1745532994.png
 GET /api/npc/get?id=e0c3872b-2103-4d04-8a2d-801bbd7f43cf 200 in 40ms
ğŸ” Fetching NPC details for ID: kant
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
âœ… Got NPC details from backend: Immanuel Kant
 GET /api/npc/get?id=kant 200 in 58ms
ğŸ” Fetching NPC details for ID: marx
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=marx
ğŸ” Fetching NPC details for ID: kant
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=kant
âœ… Got NPC details from backend: Karl Marx
 GET /api/npc/get?id=marx 200 in 128ms
âœ… Got NPC details from backend: Immanuel Kant
 GET /api/npc/get?id=kant 200 in 145ms
ğŸ” Fetching NPC details for ID: marx
ğŸ”„ Trying backend API at http://0.0.0.0:8000/api/npc/get?id=marx
âœ… Got NPC details from backend: Karl Marx
 GET /api/npc/get?id=marx 200 in 35ms
